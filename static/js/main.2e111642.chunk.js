(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{37:function(n,t,e){},44:function(n,t){function e(n){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id=44},45:function(n,t,e){},46:function(n,t,e){"use strict";e.r(t);var r,a=e(0),c=e(1),o=e.n(c),s=e(26),i=e.n(s),l=(e(37),e(3)),d=e(7),u=e(4),b=e(2),j=e(6);function h(n){return encodeURI(btoa("".concat(n.roomId,":").concat(n.playerId)))}function O(n){if(n===r.O)return r.X;if(n===r.X)return r.O;throw new Error("Cannot find inverse of ".concat(n))}!function(n){n.NONE="none",n.X="x",n.O="o"}(r||(r={}));var p=r,f=e(27),x=e.n(f),m={v:"5.5.8",fr:60,ip:0,op:52,w:24,h:24,nm:"night-toggle",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"l6",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},r:{a:0,k:300},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",cl:"paintable",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],cl:"paintable",nm:"Stroke 1",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"l5",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},r:{a:0,k:240},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",cl:"paintable",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],cl:"paintable",nm:"Stroke 1",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"l4",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},r:{a:0,k:180},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",cl:"paintable",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],cl:"paintable",nm:"Stroke 1",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"l3",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},r:{a:0,k:120},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",cl:"paintable",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],cl:"paintable",nm:"Stroke 1",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"l2",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},r:{a:0,k:60},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",cl:"paintable",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],nm:"Stroke 1",cl:"paintable",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"l1",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],nm:"Stroke 1",cl:"paintable",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"c",sr:1,ks:{p:{a:0,k:[12,12,0]},a:{a:0,k:[-1.237,-2.112,0]}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"s",pt:{a:1,k:[{i:{x:0,y:1},o:{x:.333,y:0},t:25,s:[{i:[[3.55,0],[0,-3.55],[-3.55,0],[0,3.55]],o:[[-3.55,0],[0,3.55],[3.55,0],[0,-3.55]],v:[[9.94,-19.487],[3.513,-13.06],[9.94,-6.633],[16.367,-13.06]],c:!0}]},{t:52,s:[{i:[[3.55,0],[0,-3.55],[-3.55,0],[0,3.55]],o:[[-3.55,0],[0,3.55],[3.55,0],[0,-3.55]],v:[[3.065,-12.362],[-3.362,-5.935],[3.065,.492],[9.492,-5.935]],c:!0}]}]},o:{a:0,k:100},x:{a:0,k:0},nm:"Mask 1"}],shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:1,k:[{i:{x:[.667,.667],y:[1,1]},o:{x:[.396,.396],y:[0,0]},t:16,s:[6,6]},{t:41,s:[16,16]}]},p:{a:0,k:[0,0]},cl:"paintable",nm:"Ellipse Path 1",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},r:1,bm:0,nm:"Fill 1",cl:"paintable",hd:!1},{ty:"tr",p:{a:0,k:[-1.237,-2.112]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Ellipse 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0}],markers:[]};function v(){var n=Object(l.a)(["\n  height: 50px;\n  width: 50px;\n\n  :hover {\n    .paintable {\n      fill: teal;\n      stroke: teal;\n    }\n  }\n\n  .paintable {\n    transition: fill 0.2s linear, stroke 0.2s linear;\n    fill: var(--text1);\n    stroke: var(--text1);\n  }\n"]);return v=function(){return n},n}var k=b.b.div(v());function y(){var n=Object(c.useRef)(null),t=Object(c.useState)(1),e=Object(j.a)(t,2),r=e[0],o=e[1],s=Object(c.useState)(),i=Object(j.a)(s,2),l=i[0],d=i[1];return Object(c.useEffect)((function(){var t=n.current;if(t){var e=document.getElementsByTagName("body")[0];return d(x.a.loadAnimation({container:t,renderer:"svg",loop:!1,autoplay:e.classList.contains("dark"),animationData:m})),function(){(null===t||void 0===t?void 0:t.firstChild)&&t.removeChild(t.firstChild)}}}),[]),Object(a.jsx)(k,{ref:n,onClick:function(){if(l){var n=document.getElementsByTagName("body")[0];n.classList.contains("dark")?n.classList.remove("dark"):n.classList.add("dark"),o(-r),l.setDirection(r),l.play()}}})}function g(){return new URLSearchParams(Object(u.g)().search).get("i")}function w(){return function(n){var t=atob(decodeURI(n||"")).split(":"),e=Object(j.a)(t,2);return{roomId:e[0],playerId:e[1]}}(g())}function N(){var n=Object(l.a)(["\n  flex-grow: 1;\n"]);return N=function(){return n},n}var E=b.b.main(N());function S(){var n=g(),t=Object(c.useState)(""),e=Object(j.a)(t,2),r=e[0],o=e[1];return Object(a.jsxs)(E,{children:[n&&Object(a.jsx)(u.a,{to:"/versus?i=".concat(n)}),Object(a.jsx)("h2",{children:"Play online against your friends: "}),Object(a.jsx)(d.b,{to:"/versus",children:"New Game"}),Object(a.jsx)("h2",{children:"Join a game: "}),Object(a.jsx)("input",{type:"text",value:r,onChange:function(n){return o(n.target.value)}}),Object(a.jsx)(d.b,{to:"/versus?i=".concat(r),children:"Join Game"}),Object(a.jsx)("h2",{children:"Play together on this pc: "}),Object(a.jsx)(d.b,{to:"/local",children:"New Game"})]})}function C(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  nav {\n    display: flex;\n    gap: 30px;\n\n    a {\n      color: var(--text2);\n      text-decoration: none;\n      min-width: fit-content;\n\n      :visited {\n        color: var(--text2);\n      }\n\n      :hover {\n        color: teal;\n      }\n    }\n  }\n\n  a {\n    color: var(--text1);\n    text-decoration: none;\n\n    :visited {\n      color: var(--text1);\n    }\n\n    :hover {\n      color: var(--text1);\n    }\n  }\n"]);return C=function(){return n},n}var R=b.b.header(C());function T(){return Object(a.jsxs)(R,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(d.b,{to:"/",children:Object(a.jsx)("h1",{children:"Tic Tac Toe React App"})}),Object(a.jsxs)("nav",{children:[Object(a.jsx)(d.b,{to:"/",children:"Home"}),Object(a.jsx)(d.b,{to:"/versus?i=".concat(h({roomId:btoa((new Date).getTime().toString().substr(6)).replace(/=+/,""),playerId:p.X})),children:"Online Versus"}),Object(a.jsx)(d.b,{to:"/local",children:"Local Versus"}),Object(a.jsx)(d.b,{to:"/computer",children:"Computer Versus"})]})]}),Object(a.jsx)(y,{})]})}var I=e(20);function L(){var n=Object(l.a)(["\n  display: flex;\n  gap: 5px;\n\n  :nth-of-type(odd) {\n    flex-direction: row;\n  }\n\n  :nth-of-type(even) {\n    flex-direction: row-reverse;\n  }\n"]);return L=function(){return n},n}function P(){var n=Object(l.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 5px;\n  color: var(--text2);\n\n  div {\n    transition: color 0.2s linear;\n    color: var(--text2);\n\n    :hover {\n      color: teal;\n    }\n  }\n\n  a {\n    color: var(--text2);\n    text-decoration: none;\n\n    :visited {\n      color: var(--text2);\n    }\n\n    :hover {\n      color: teal;\n    }\n  }\n"]);return P=function(){return n},n}var U=b.b.footer(P()),X=b.b.div(L());function M(){return Object(a.jsxs)(U,{children:[Object(a.jsxs)(X,{children:[Object(a.jsx)(I.c,{}),Object(a.jsx)("span",{children:"Nico Kandut"})]}),Object(a.jsxs)(X,{children:[Object(a.jsx)(I.a,{}),Object(a.jsx)("span",{children:"0.1.6"})]}),Object(a.jsxs)(X,{children:[Object(a.jsx)(I.b,{}),Object(a.jsx)("a",{href:"https://github.com/NicoKandut/tic-tac-toe",children:"Repository"})]})]})}var A,D={gap:"20px",padding:"5px",red:"tomato",blue:"cornflowerblue",yellow:"gold",semiRed:"rgba(255, 150, 131, 0.6)",semiBlue:"rgba(150, 187, 255, 0.6)",semiYellow:"rgba(255, 236, 131, 0.4)",lightBeige:" rgb(218, 192, 160)",darkBeige:"rgb(182, 160, 134)"};!function(n){n[n.VERSUS=0]="VERSUS",n[n.LOCAL=1]="LOCAL",n[n.COMPUTER=2]="COMPUTER"}(A||(A={}));var B=A,F=e(11),V=e(31),W=e.n(V);var Y=e(13),J=e(18);function G(n,t){return H(t.slice(3*n,3*(n+1)))}function z(n,t){return H(t.filter((function(t,e){return e%3===n})))}function H(n){return n.every((function(t){return t!==p.NONE&&t===n[0]}))?n[0]:null}function K(n){for(var t=0;t<3;t++){var e=G(t,n);if(e)return e;var r=z(t,n);if(r)return r}var a=H([n[0],n[4],n[8]])||H([n[2],n[4],n[6]]);return a||(n.every((function(n){return n!==p.NONE}))?p.NONE:null)}function _(n,t){var e=-2,r=-1;return n.forEach((function(a,c){if(a===p.NONE){var o=Object(J.a)(n);o[c]=t;var s=-1*q(o,O(t));s>e&&(e=s,r=c)}})),r}function q(n,t){var e=K(n);return e===t?1:e===O(t)?-1:e===p.NONE?0:function(n,t){return n.map((function(e,r){if(e!==p.NONE)return[];var a=Object(J.a)(n);return a[r]=t,a})).filter((function(n){return n.length>0}))}(n,t).reduce((function(n,e){var r=-1*q(e,O(t));return r>n?r:n}),-2)}function Q(){var n=Object(l.a)(["\n    padding: 10%;\n    display: grid;\n    background-color: var(--tile1);\n    aspect-ratio: 1/1;\n    grid-row: "," / ",";\n    grid-column: "," / ",";\n\n    :nth-of-type(even) {\n      background-color: var(--tile2);\n    }\n  "]);return Q=function(){return n},n}var Z=b.b.div((function(n){var t=n.index;return Object(b.a)(Q(),1+Math.floor(t/3),2+Math.floor(t/3),1+t%3,2+t%3)}));function $(){var n=Object(l.a)(["\n      * {\n        fill: transparent;\n      }\n\n      .shape * {\n        stroke: ",";\n      }\n\n      .shadow * {\n        stroke: var(--shadow);\n      }\n    "]);return $=function(){return n},n}var nn=b.b.svg((function(n){return Object(b.a)($(),n.type===p.X?D.red:D.blue)}));function tn(n){var t=n.type;return Object(a.jsx)(nn,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",type:t,children:t===p.X?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("g",{className:"shadow",children:[Object(a.jsx)("line",{x1:"2",y1:"2.5",x2:"10",y2:"10.5",strokeWidth:"2"}),Object(a.jsx)("line",{x1:"2",y1:"10.5",x2:"10",y2:"2.5",strokeWidth:"2"})]}),Object(a.jsxs)("g",{className:"shape",children:[Object(a.jsx)("line",{x1:"2",y1:"2",x2:"10",y2:"10",strokeWidth:"2"}),Object(a.jsx)("line",{x1:"2",y1:"10",x2:"10",y2:"2",strokeWidth:"2"})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("g",{className:"shadow",children:Object(a.jsx)("circle",{cx:"6",cy:"6.5",r:"4",strokeWidth:"2"})}),Object(a.jsx)("g",{className:"shape",children:Object(a.jsx)("circle",{cx:"6",cy:"6",r:"4",strokeWidth:"2"})})]})})}function en(n){var t=n.mark,e=n.index,r=n.processTurn,o=Object(c.useCallback)((function(){t===p.NONE&&r(e,!0)}),[e,t,r]);return Object(a.jsx)(Z,{onClick:o,index:e,children:t!==p.NONE&&Object(a.jsx)(tn,{type:t})})}function rn(){var n=Object(l.a)(["\n  font-size: 32px;\n  color: gold;\n  filter: drop-shadow(0 3px 0 gray);\n"]);return rn=function(){return n},n}function an(){var n=Object(l.a)(["\n  max-width: 60%;\n"]);return an=function(){return n},n}function cn(){var n=Object(l.a)(["\n    grid-row: 1/4;\n    grid-column: 1/4;\n    min-width: 100%;\n    min-height: 100%;\n    background: ",";\n  "]);return cn=function(){return n},n}function on(){var n=Object(l.a)(["\n  max-height: 100%;\n  max-width: 100%;\n  height: 100%;\n  aspect-ratio: 1/1;\n  margin: auto;\n\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n  border: 5px var(--shadow) solid;\n  border-radius: 5px;\n  background-color: var(--shadow);\n"]);return on=function(){return n},n}var sn=b.b.div(on()),ln=b.b.div((function(n){var t=n.winner;return Object(b.a)(cn(),t?{x:D.semiRed,o:D.semiBlue,none:D.semiYellow}[t]:"")})),dn=Object(b.b)(tn)(an()),un=b.b.span(rn());function bn(n){var t=n.tiles,e=n.processTurn,r=n.winner;return Object(a.jsxs)(sn,{className:"board",children:[t.map((function(n,t){return Object(a.jsx)(en,{mark:n,index:t,processTurn:e},t)})),r&&Object(a.jsx)(ln,{winner:r,children:r===p.NONE?Object(a.jsx)(un,{children:"Draw"}):Object(a.jsx)(dn,{type:r})})]})}function jn(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  gap: ",";\n"]);return jn=function(){return n},n}var hn=b.b.div(jn(),D.gap);function On(){var n=Object(l.a)(["\n  background: ",";\n  height: 100%;\n"]);return On=function(){return n},n}function pn(){var n=Object(l.a)(["\n  background: ",";\n  height: 70px;\n  width: 500px;\n"]);return pn=function(){return n},n}var fn=b.b.div(pn(),D.blue),xn=b.b.div(On(),D.red);function mn(n){var t=n.tiles,e=n.player;return Object(a.jsx)(fn,{children:Object(a.jsx)(xn,{style:{width:"".concat(50*(q(t,e)+1),"%")}})})}e(45);function vn(){var n=Object(l.a)(["\n  width: 100%;\n  height: 100px;\n  display: grid;\n  place-items: center;\n  color: var(--text2);\n  font-size: 16px;\n"]);return vn=function(){return n},n}var kn=b.b.div(vn());function yn(){var n=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  gap: ",";\n  padding-bottom: ",";\n  overflow-x: hidden;\n  scroll-behavior: smooth;\n"]);return yn=function(){return n},n}var gn=b.b.div(yn(),D.gap,D.padding);function wn(){var n=Object(l.a)(["\n  width: 100px;\n  height: 100px;\n  display: flex;\n"]);return wn=function(){return n},n}var Nn=function(){},En=b.b.div(wn());function Sn(n){var t=n.games,e=Object(c.useRef)(null);return Object(c.useEffect)((function(){e.current&&(e.current.scrollLeft=e.current.scrollWidth)}),[t]),Object(a.jsx)(gn,{ref:e,children:t.length>0?t.map((function(n,t){var e=Object(j.a)(n,2),r=e[0],c=e[1];return Object(a.jsx)(En,{children:Object(a.jsx)(bn,{tiles:c,winner:r,processTurn:Nn})},t)})):Object(a.jsx)(kn,{children:Object(a.jsx)("span",{children:"No matches played yet..."})})})}function Cn(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  gap: 5px;\n"]);return Cn=function(){return n},n}function Rn(){var n=Object(l.a)(["\n  justify-content: space-between;\n"]);return Rn=function(){return n},n}var Tn=Object(b.b)(hn)(Rn()),In=Object(b.b)(hn)(Cn());function Ln(n){var t=n.type,e=n.playerId,r=n.connection,o=n.peerId,s=Object(c.useState)(new Array(9).fill(p.NONE)),i=Object(j.a)(s,2),l=i[0],d=i[1],u=Object(c.useState)(new Array),b=Object(j.a)(u,2),f=b[0],x=b[1],m=Object(c.useState)(null),v=Object(j.a)(m,2),k=v[0],y=v[1],g=Object(c.useState)(p.X),w=Object(j.a)(g,2),N=w[0],E=w[1],S=Object(c.useCallback)((function(n,e){var a=l;a.splice(n,1,N),d(a),E(O(N));var c=K(l);y(c),t===B.VERSUS&&e&&(null===r||void 0===r||r.send(n))}),[r,N,l,t]),C=Object(c.useCallback)((function(n,a){(r&&N===e||t!==B.VERSUS)&&S(n,a)}),[r,N,e,S,t]),R=Object(c.useCallback)((function(){k&&(x([].concat(Object(J.a)(f),[[k,l.map((function(n){return n}))]])),d(new Array(9).fill(p.NONE)),y(null))}),[f,l,k]),T=Object(c.useCallback)((function(n,e){"reset"===n&&R(),t===B.VERSUS&&e&&(null===r||void 0===r||r.send(n))}),[r,R,t]),I=Object(c.useCallback)((function(){T("reset",!1)}),[T]),L=Object(c.useMemo)((function(){var n;return f.reduce((function(n,t){var e=Object(j.a)(t,1)[0];return n[e]=n[e]+1,n}),(n={},Object(Y.a)(n,p.X,0),Object(Y.a)(n,p.O,0),Object(Y.a)(n,p.NONE,0),n))}),[f]);Object(c.useEffect)((function(){var n=r,t=function(n){"number"===typeof n?S(n,!1):"string"===typeof n&&T(n,!0)};return null===n||void 0===n||n.on("data",t),function(){return null===n||void 0===n?void 0:n.off("data",t)}}),[r,T,S]);var P=Object(c.useCallback)((function(n){var t=document.createRange();t.selectNodeContents(n.target);var e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(t))}),[]);return Object(c.useEffect)((function(){t!==B.COMPUTER||N!==p.O||k||C(_(l,N),!1)}),[C,N,l,t,k]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Sn,{games:f}),Object(a.jsx)(In,{children:t===B.LOCAL?Object(a.jsx)("span",{className:"connected",children:"Local"}):t===B.COMPUTER?Object(a.jsx)("span",{className:"connected",children:"Computer"}):r?"ERROR"===r.status?Object(a.jsx)("span",{className:"error",children:"Error"}):"CLOSED"===r.status?Object(a.jsx)("span",{className:"closed",children:"Closed"}):Object(a.jsx)("span",{className:"connected",children:"Connected"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"invite",children:"Invite link: "}),Object(a.jsx)("code",{onClick:P,children:"https://".concat(window.location.host+"/tic-tac-toe","?i=").concat(h({roomId:o,playerId:O(e)}))})]})}),Object(a.jsxs)(Tn,{children:[Object(a.jsx)("div",{className:"turn",children:k?Object(a.jsx)("span",{className:k,children:k===p.NONE?"Draw":k===e?"You win":"You lose"}):Object(a.jsx)("span",{className:N,children:N===e?"Your turn":"Opponent's turn"})}),Object(a.jsx)(mn,{tiles:l,player:N}),Object(a.jsxs)("div",{className:"score",children:[Object(a.jsx)("span",{className:"x",children:L[p.X]}),Object(a.jsx)("span",{children:"-"}),Object(a.jsx)("span",{className:"o",children:L[p.O]})]})]}),Object(a.jsx)(bn,{tiles:l,winner:k,processTurn:C}),k&&Object(a.jsx)("button",{className:"continue",onClick:I,children:"Again"})]})}function Pn(){var n=w(),t=n.roomId,e=n.playerId,r=void 0===e?p.X:e,o=function(n,t){var e=Object(c.useState)(null),r=Object(j.a)(e,2),a=r[0],o=r[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),l=i[0],d=i[1];return Object(c.useEffect)((function(){var n=new W.a;return n.on("error",(function(n){console.error("ERROR:",n)})),n.on("open",(function(e){if(d(e),console.debug("Peer Id:",e),t){console.debug("Role: HOST");var r=n.connect(t);o(r),r.on("error",(function(){o(Object(F.a)(Object(F.a)({},r),{},{status:"ERROR"}))})),r.on("close",(function(){o(Object(F.a)(Object(F.a)({},r),{},{status:"CLOSED"}))})),console.debug("Connection established",r)}})),t||(console.debug("Role: CLIENT"),n.on("connection",(function(n){o(n),n.on("error",(function(){o(Object(F.a)(Object(F.a)({},n),{},{status:"ERROR"}))})),n.on("close",(function(){o(Object(F.a)(Object(F.a)({},n),{},{status:"CLOSED"}))})),console.debug("Connection established",n)}))),function(){n.destroy()}}),[n,t]),{connection:a,peerId:l}}(r,t),s=o.connection,i=o.peerId;return Object(a.jsx)(Ln,{type:B.VERSUS,playerId:r,connection:s,peerId:i})}function Un(){return Object(a.jsx)(Ln,{type:B.LOCAL,playerId:p.X,connection:null,peerId:""})}function Xn(){return Object(a.jsx)(Ln,{type:B.COMPUTER,playerId:p.X,connection:null,peerId:""})}function Mn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  gap: ",";\n  max-width: 100%;\n"]);return Mn=function(){return n},n}var An=b.b.div(Mn(),D.gap);function Dn(){var n=[p.O,p.O,p.X,p.X,p.NONE,p.NONE,p.O,p.NONE,p.X];return Object(a.jsxs)(An,{children:[Object(a.jsx)(bn,{tiles:n,winner:K(n),processTurn:Nn}),Object(a.jsx)("span",{children:"Best Move for O"}),Object(a.jsx)("span",{children:_(n,p.O)})]})}function Bn(){var n=Object(l.a)(["\n  display: grid;\n  padding: ",";\n  gap: ",";\n  max-width: 1000px;\n  margin: auto;\n  min-height: 100vh;\n  max-height: 100vh;\n  grid-template-rows: repeat(4, auto) 1fr auto;\n"]);return Bn=function(){return n},n}var Fn=b.b.div(Bn(),D.gap,D.gap);var Vn=function(){return Object(a.jsx)(d.a,{basename:"/tic-tac-toe",children:Object(a.jsxs)(Fn,{children:[Object(a.jsx)(T,{}),Object(a.jsxs)(u.d,{children:[Object(a.jsx)(u.b,{path:"/local",children:Object(a.jsx)(Un,{})}),Object(a.jsx)(u.b,{path:"/versus",children:Object(a.jsx)(Pn,{})}),Object(a.jsx)(u.b,{path:"/computer",children:Object(a.jsx)(Xn,{})}),Object(a.jsx)(u.b,{path:"/test",children:Object(a.jsx)(Dn,{})}),Object(a.jsx)(u.b,{path:"/",children:Object(a.jsx)(S,{})})]}),Object(a.jsx)(M,{})]})})},Wn=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,47)).then((function(t){var e=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;e(n),r(n),a(n),c(n),o(n)}))};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(Vn,{})}),document.getElementById("root")),Wn()}},[[46,1,2]]]);
//# sourceMappingURL=main.2e111642.chunk.js.map