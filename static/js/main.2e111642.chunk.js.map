{"version":3,"sources":["../node_modules/peerjs/dist sync","main/Player.ts","main/invite.ts","components/DarkModeAnimationData.ts","components/DarkModeButton.tsx","main/useQuery.ts","components/common/Main.tsx","components/pages/Welcome.tsx","components/layout/Header.tsx","components/layout/Footer.tsx","components/common/theme.ts","main/GameType.ts","main/gameLogic.ts","main/computer.ts","components/common/AlternatingBgCell.ts","components/Mark.tsx","components/Tile.tsx","components/Board.tsx","components/common/FlexRow.tsx","components/Evaluation.tsx","components/common/PlaceholderMessage.ts","components/common/ScrollableFlexRow.ts","components/History.tsx","components/Game.tsx","components/pages/Versus.tsx","main/usePeerConnection.ts","components/pages/Local.tsx","components/pages/Computer.tsx","components/common/FlexColumn.tsx","components/pages/Test.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Player","stringify","invite","encodeURI","btoa","roomId","playerId","inverseOf","player","O","X","data","v","fr","ip","op","w","h","nm","ddd","assets","layers","ind","ty","sr","ks","o","a","k","i","x","y","t","s","r","p","ao","shapes","it","c","hd","lc","lj","ml","bm","d","n","cl","sk","sa","st","hasMask","masksProperties","inv","mode","pt","markers","NightToggleContainer","styled","div","DarkModeButton","buttonRef","useRef","useState","direction","setDirection","animation","setAnimation","useEffect","current","body","document","getElementsByTagName","Lottie","loadAnimation","container","renderer","loop","autoplay","classList","contains","animationData","firstChild","removeChild","ref","onClick","remove","add","play","useRawInvite","URLSearchParams","useLocation","search","get","useInvite","atob","decodeURI","split","parse","main","Welcome","setCode","Main","to","type","value","onChange","event","target","HeaderRow","header","Header","Date","getTime","toString","substr","replace","FooterGrid","footer","FooterItem","Footer","href","GameType","theme","gap","padding","red","blue","yellow","semiRed","semiBlue","semiYellow","lightBeige","darkBeige","checkRow","index","tiles","checkTriplet","slice","checkColumn","filter","_","triplet","every","tile","NONE","getWinner","getBestMove","bestRating","bestIndex","forEach","newBoard","rating","evaluateBoard","winner","map","length","getPossibleBoards","reduce","maxRating","board","boardRating","css","Math","floor","PlayerColorSvg","svg","props","Mark","xmlns","viewBox","className","x1","y1","x2","y2","strokeWidth","cx","cy","Tile","mark","processTurn","useCallback","AlternatingBgCell","BoardGrid","Overlay","none","OverlayMark","DrawText","span","Board","BlueBar","RedBar","Evaluation","style","width","NO_OP","HistoryBoardWrapper","History","games","scrollRef","scrollLeft","scrollWidth","ScrollableFlexRow","PlaceholderMessage","ScoreRow","FlexRow","ConnectionRow","Game","connection","peerId","Array","fill","setTiles","setGames","setWinner","setPlayer","shouldSend","newTiles","splice","VERSUS","send","doTurn","reset","processControl","instruction","processReset","score","useMemo","result","conn","handler","on","off","selectLink","createRange","selectNodeContents","sel","window","getSelection","removeAllRanges","addRange","COMPUTER","LOCAL","status","location","host","process","Versus","setConnection","setPeerId","peer","Peer","err","console","error","debug","connect","destroy","usePeerConnection","Local","Computer","Test","FlexColumn","AppLayout","App","basename","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2e111642.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 44;","enum Player {\r\n  NONE = \"none\",\r\n  X = \"x\",\r\n  O = \"o\",\r\n}\r\n\r\nexport function inverseOf(player: Player) {\r\n  if (player === Player.O) {\r\n    return Player.X;\r\n  }\r\n  if (player === Player.X) {\r\n    return Player.O;\r\n  }\r\n\r\n  throw new Error(`Cannot find inverse of ${player}`);\r\n}\r\n\r\nexport default Player;\r\n","import Player from \"./Player\";\r\n\r\nexport interface Invite {\r\n  roomId: string | undefined;\r\n  playerId: Player;\r\n}\r\n\r\nexport function parse(invite: string | null): Invite {\r\n  const [roomId, playerId] = atob(decodeURI(invite || \"\")).split(\":\");\r\n\r\n  return {\r\n    roomId,\r\n    playerId: playerId as Player,\r\n  };\r\n}\r\n\r\nexport function stringify(invite: Invite) {\r\n  return encodeURI(btoa(`${invite.roomId}:${invite.playerId}`));\r\n}\r\n","const data = {\r\n  v: \"5.5.8\",\r\n  fr: 60,\r\n  ip: 0,\r\n  op: 52,\r\n  w: 24,\r\n  h: 24,\r\n  nm: \"night-toggle\",\r\n  ddd: 0,\r\n  assets: [],\r\n  layers: [\r\n    {\r\n      ddd: 0,\r\n      ind: 1,\r\n      ty: 4,\r\n      nm: \"l6\",\r\n      sr: 1,\r\n      ks: {\r\n        o: {\r\n          a: 1,\r\n          k: [\r\n            {\r\n              i: { x: [0.667], y: [1] },\r\n              o: { x: [0.333], y: [0] },\r\n              t: 11,\r\n              s: [100],\r\n            },\r\n            { t: 18, s: [0] },\r\n          ],\r\n        },\r\n        r: { a: 0, k: 300 },\r\n        p: { a: 0, k: [12, 12, 0] },\r\n      },\r\n      ao: 0,\r\n      shapes: [\r\n        {\r\n          ty: \"gr\",\r\n          it: [\r\n            {\r\n              ind: 0,\r\n              ty: \"sh\",\r\n              ks: {\r\n                a: 0,\r\n                k: {\r\n                  i: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  o: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  v: [\r\n                    [0, -6.004],\r\n                    [0, -10.941],\r\n                  ],\r\n                  c: false,\r\n                },\r\n              },\r\n              nm: \"Path 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"st\",\r\n              c: { a: 0, k: [1, 1, 1, 1] },\r\n              o: { a: 0, k: 100 },\r\n              w: { a: 0, k: 2 },\r\n              lc: 2,\r\n              lj: 1,\r\n              ml: 4,\r\n              bm: 0,\r\n              d: [\r\n                { n: \"d\", nm: \"dash\", cl: \"paintable\", v: { a: 0, k: 10 } },\r\n                { n: \"g\", nm: \"gap\", v: { a: 0, k: 10 } },\r\n                {\r\n                  n: \"o\",\r\n                  nm: \"offset\",\r\n                  v: {\r\n                    a: 1,\r\n                    k: [\r\n                      {\r\n                        i: { x: [0.431], y: [1] },\r\n                        o: { x: [0.45], y: [0] },\r\n                        t: 0,\r\n                        s: [0],\r\n                      },\r\n                      { t: 20, s: [-5] },\r\n                    ],\r\n                  },\r\n                },\r\n              ],\r\n              cl: \"paintable\",\r\n              nm: \"Stroke 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"tr\",\r\n              p: { a: 0, k: [0, 0] },\r\n              a: { a: 0, k: [0, 0] },\r\n              s: { a: 0, k: [100, 100] },\r\n              r: { a: 0, k: 0 },\r\n              o: { a: 0, k: 100 },\r\n              sk: { a: 0, k: 0 },\r\n              sa: { a: 0, k: 0 },\r\n              nm: \"Transform\",\r\n            },\r\n          ],\r\n          nm: \"Shape 1\",\r\n          bm: 0,\r\n          hd: false,\r\n        },\r\n      ],\r\n      ip: 0,\r\n      op: 52,\r\n      st: 0,\r\n      bm: 0,\r\n    },\r\n    {\r\n      ddd: 0,\r\n      ind: 2,\r\n      ty: 4,\r\n      nm: \"l5\",\r\n      sr: 1,\r\n      ks: {\r\n        o: {\r\n          a: 1,\r\n          k: [\r\n            {\r\n              i: { x: [0.667], y: [1] },\r\n              o: { x: [0.333], y: [0] },\r\n              t: 11,\r\n              s: [100],\r\n            },\r\n            { t: 18, s: [0] },\r\n          ],\r\n        },\r\n        r: { a: 0, k: 240 },\r\n        p: { a: 0, k: [12, 12, 0] },\r\n      },\r\n      ao: 0,\r\n      shapes: [\r\n        {\r\n          ty: \"gr\",\r\n          it: [\r\n            {\r\n              ind: 0,\r\n              ty: \"sh\",\r\n              ks: {\r\n                a: 0,\r\n                k: {\r\n                  i: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  o: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  v: [\r\n                    [0, -6.004],\r\n                    [0, -10.941],\r\n                  ],\r\n                  c: false,\r\n                },\r\n              },\r\n              nm: \"Path 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"st\",\r\n              c: { a: 0, k: [1, 1, 1, 1] },\r\n              o: { a: 0, k: 100 },\r\n              w: { a: 0, k: 2 },\r\n              lc: 2,\r\n              lj: 1,\r\n              ml: 4,\r\n              bm: 0,\r\n              d: [\r\n                { n: \"d\", nm: \"dash\", cl: \"paintable\", v: { a: 0, k: 10 } },\r\n                { n: \"g\", nm: \"gap\", v: { a: 0, k: 10 } },\r\n                {\r\n                  n: \"o\",\r\n                  nm: \"offset\",\r\n                  v: {\r\n                    a: 1,\r\n                    k: [\r\n                      {\r\n                        i: { x: [0.431], y: [1] },\r\n                        o: { x: [0.45], y: [0] },\r\n                        t: 0,\r\n                        s: [0],\r\n                      },\r\n                      { t: 20, s: [-5] },\r\n                    ],\r\n                  },\r\n                },\r\n              ],\r\n              cl: \"paintable\",\r\n              nm: \"Stroke 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"tr\",\r\n              p: { a: 0, k: [0, 0] },\r\n              a: { a: 0, k: [0, 0] },\r\n              s: { a: 0, k: [100, 100] },\r\n              r: { a: 0, k: 0 },\r\n              o: { a: 0, k: 100 },\r\n              sk: { a: 0, k: 0 },\r\n              sa: { a: 0, k: 0 },\r\n              nm: \"Transform\",\r\n            },\r\n          ],\r\n          nm: \"Shape 1\",\r\n          bm: 0,\r\n          hd: false,\r\n        },\r\n      ],\r\n      ip: 0,\r\n      op: 52,\r\n      st: 0,\r\n      bm: 0,\r\n    },\r\n    {\r\n      ddd: 0,\r\n      ind: 3,\r\n      ty: 4,\r\n      nm: \"l4\",\r\n      sr: 1,\r\n      ks: {\r\n        o: {\r\n          a: 1,\r\n          k: [\r\n            {\r\n              i: { x: [0.667], y: [1] },\r\n              o: { x: [0.333], y: [0] },\r\n              t: 11,\r\n              s: [100],\r\n            },\r\n            { t: 18, s: [0] },\r\n          ],\r\n        },\r\n        r: { a: 0, k: 180 },\r\n        p: { a: 0, k: [12, 12, 0] },\r\n      },\r\n      ao: 0,\r\n      shapes: [\r\n        {\r\n          ty: \"gr\",\r\n          it: [\r\n            {\r\n              ind: 0,\r\n              ty: \"sh\",\r\n              ks: {\r\n                a: 0,\r\n                k: {\r\n                  i: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  o: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  v: [\r\n                    [0, -6.004],\r\n                    [0, -10.941],\r\n                  ],\r\n                  c: false,\r\n                },\r\n              },\r\n              nm: \"Path 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"st\",\r\n              c: { a: 0, k: [1, 1, 1, 1] },\r\n              o: { a: 0, k: 100 },\r\n              w: { a: 0, k: 2 },\r\n              lc: 2,\r\n              lj: 1,\r\n              ml: 4,\r\n              bm: 0,\r\n              d: [\r\n                { n: \"d\", nm: \"dash\", cl: \"paintable\", v: { a: 0, k: 10 } },\r\n                { n: \"g\", nm: \"gap\", v: { a: 0, k: 10 } },\r\n                {\r\n                  n: \"o\",\r\n                  nm: \"offset\",\r\n                  v: {\r\n                    a: 1,\r\n                    k: [\r\n                      {\r\n                        i: { x: [0.431], y: [1] },\r\n                        o: { x: [0.45], y: [0] },\r\n                        t: 0,\r\n                        s: [0],\r\n                      },\r\n                      { t: 20, s: [-5] },\r\n                    ],\r\n                  },\r\n                },\r\n              ],\r\n              cl: \"paintable\",\r\n              nm: \"Stroke 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"tr\",\r\n              p: { a: 0, k: [0, 0] },\r\n              a: { a: 0, k: [0, 0] },\r\n              s: { a: 0, k: [100, 100] },\r\n              r: { a: 0, k: 0 },\r\n              o: { a: 0, k: 100 },\r\n              sk: { a: 0, k: 0 },\r\n              sa: { a: 0, k: 0 },\r\n              nm: \"Transform\",\r\n            },\r\n          ],\r\n          nm: \"Shape 1\",\r\n          bm: 0,\r\n          hd: false,\r\n        },\r\n      ],\r\n      ip: 0,\r\n      op: 52,\r\n      st: 0,\r\n      bm: 0,\r\n    },\r\n    {\r\n      ddd: 0,\r\n      ind: 4,\r\n      ty: 4,\r\n      nm: \"l3\",\r\n      sr: 1,\r\n      ks: {\r\n        o: {\r\n          a: 1,\r\n          k: [\r\n            {\r\n              i: { x: [0.667], y: [1] },\r\n              o: { x: [0.333], y: [0] },\r\n              t: 11,\r\n              s: [100],\r\n            },\r\n            { t: 18, s: [0] },\r\n          ],\r\n        },\r\n        r: { a: 0, k: 120 },\r\n        p: { a: 0, k: [12, 12, 0] },\r\n      },\r\n      ao: 0,\r\n      shapes: [\r\n        {\r\n          ty: \"gr\",\r\n          it: [\r\n            {\r\n              ind: 0,\r\n              ty: \"sh\",\r\n              ks: {\r\n                a: 0,\r\n                k: {\r\n                  i: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  o: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  v: [\r\n                    [0, -6.004],\r\n                    [0, -10.941],\r\n                  ],\r\n                  c: false,\r\n                },\r\n              },\r\n              nm: \"Path 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"st\",\r\n              c: { a: 0, k: [1, 1, 1, 1] },\r\n              o: { a: 0, k: 100 },\r\n              w: { a: 0, k: 2 },\r\n              lc: 2,\r\n              lj: 1,\r\n              ml: 4,\r\n              bm: 0,\r\n              d: [\r\n                { n: \"d\", nm: \"dash\", cl: \"paintable\", v: { a: 0, k: 10 } },\r\n                { n: \"g\", nm: \"gap\", v: { a: 0, k: 10 } },\r\n                {\r\n                  n: \"o\",\r\n                  nm: \"offset\",\r\n                  v: {\r\n                    a: 1,\r\n                    k: [\r\n                      {\r\n                        i: { x: [0.431], y: [1] },\r\n                        o: { x: [0.45], y: [0] },\r\n                        t: 0,\r\n                        s: [0],\r\n                      },\r\n                      { t: 20, s: [-5] },\r\n                    ],\r\n                  },\r\n                },\r\n              ],\r\n              cl: \"paintable\",\r\n              nm: \"Stroke 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"tr\",\r\n              p: { a: 0, k: [0, 0] },\r\n              a: { a: 0, k: [0, 0] },\r\n              s: { a: 0, k: [100, 100] },\r\n              r: { a: 0, k: 0 },\r\n              o: { a: 0, k: 100 },\r\n              sk: { a: 0, k: 0 },\r\n              sa: { a: 0, k: 0 },\r\n              nm: \"Transform\",\r\n            },\r\n          ],\r\n          nm: \"Shape 1\",\r\n          bm: 0,\r\n          hd: false,\r\n        },\r\n      ],\r\n      ip: 0,\r\n      op: 52,\r\n      st: 0,\r\n      bm: 0,\r\n    },\r\n    {\r\n      ddd: 0,\r\n      ind: 5,\r\n      ty: 4,\r\n      nm: \"l2\",\r\n      sr: 1,\r\n      ks: {\r\n        o: {\r\n          a: 1,\r\n          k: [\r\n            {\r\n              i: { x: [0.667], y: [1] },\r\n              o: { x: [0.333], y: [0] },\r\n              t: 11,\r\n              s: [100],\r\n            },\r\n            { t: 18, s: [0] },\r\n          ],\r\n        },\r\n        r: { a: 0, k: 60 },\r\n        p: { a: 0, k: [12, 12, 0] },\r\n      },\r\n      ao: 0,\r\n      shapes: [\r\n        {\r\n          ty: \"gr\",\r\n          it: [\r\n            {\r\n              ind: 0,\r\n              ty: \"sh\",\r\n              ks: {\r\n                a: 0,\r\n                k: {\r\n                  i: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  o: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  v: [\r\n                    [0, -6.004],\r\n                    [0, -10.941],\r\n                  ],\r\n                  c: false,\r\n                },\r\n              },\r\n              nm: \"Path 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"st\",\r\n              c: { a: 0, k: [1, 1, 1, 1] },\r\n              o: { a: 0, k: 100 },\r\n              w: { a: 0, k: 2 },\r\n              lc: 2,\r\n              lj: 1,\r\n              ml: 4,\r\n              bm: 0,\r\n              d: [\r\n                { n: \"d\", nm: \"dash\", cl: \"paintable\", v: { a: 0, k: 10 } },\r\n                { n: \"g\", nm: \"gap\", v: { a: 0, k: 10 } },\r\n                {\r\n                  n: \"o\",\r\n                  nm: \"offset\",\r\n                  v: {\r\n                    a: 1,\r\n                    k: [\r\n                      {\r\n                        i: { x: [0.431], y: [1] },\r\n                        o: { x: [0.45], y: [0] },\r\n                        t: 0,\r\n                        s: [0],\r\n                      },\r\n                      { t: 20, s: [-5] },\r\n                    ],\r\n                  },\r\n                },\r\n              ],\r\n              nm: \"Stroke 1\",\r\n              cl: \"paintable\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"tr\",\r\n              p: { a: 0, k: [0, 0] },\r\n              a: { a: 0, k: [0, 0] },\r\n              s: { a: 0, k: [100, 100] },\r\n              r: { a: 0, k: 0 },\r\n              o: { a: 0, k: 100 },\r\n              sk: { a: 0, k: 0 },\r\n              sa: { a: 0, k: 0 },\r\n              nm: \"Transform\",\r\n            },\r\n          ],\r\n          nm: \"Shape 1\",\r\n          bm: 0,\r\n          hd: false,\r\n        },\r\n      ],\r\n      ip: 0,\r\n      op: 52,\r\n      st: 0,\r\n      bm: 0,\r\n    },\r\n    {\r\n      ddd: 0,\r\n      ind: 6,\r\n      ty: 4,\r\n      nm: \"l1\",\r\n      sr: 1,\r\n      ks: {\r\n        o: {\r\n          a: 1,\r\n          k: [\r\n            {\r\n              i: { x: [0.667], y: [1] },\r\n              o: { x: [0.333], y: [0] },\r\n              t: 11,\r\n              s: [100],\r\n            },\r\n            { t: 18, s: [0] },\r\n          ],\r\n        },\r\n        p: { a: 0, k: [12, 12, 0] },\r\n      },\r\n      ao: 0,\r\n      shapes: [\r\n        {\r\n          ty: \"gr\",\r\n          it: [\r\n            {\r\n              ind: 0,\r\n              ty: \"sh\",\r\n              ks: {\r\n                a: 0,\r\n                k: {\r\n                  i: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  o: [\r\n                    [0, 0],\r\n                    [0, 0],\r\n                  ],\r\n                  v: [\r\n                    [0, -6.004],\r\n                    [0, -10.941],\r\n                  ],\r\n                  c: false,\r\n                },\r\n              },\r\n              nm: \"Path 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"st\",\r\n              c: { a: 0, k: [1, 1, 1, 1] },\r\n              o: { a: 0, k: 100 },\r\n              w: { a: 0, k: 2 },\r\n              lc: 2,\r\n              lj: 1,\r\n              ml: 4,\r\n              bm: 0,\r\n              d: [\r\n                { n: \"d\", nm: \"dash\", v: { a: 0, k: 10 } },\r\n                { n: \"g\", nm: \"gap\", v: { a: 0, k: 10 } },\r\n                {\r\n                  n: \"o\",\r\n                  nm: \"offset\",\r\n                  v: {\r\n                    a: 1,\r\n                    k: [\r\n                      {\r\n                        i: { x: [0.431], y: [1] },\r\n                        o: { x: [0.45], y: [0] },\r\n                        t: 0,\r\n                        s: [0],\r\n                      },\r\n                      { t: 20, s: [-5] },\r\n                    ],\r\n                  },\r\n                },\r\n              ],\r\n              nm: \"Stroke 1\",\r\n              cl: \"paintable\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"tr\",\r\n              p: { a: 0, k: [0, 0] },\r\n              a: { a: 0, k: [0, 0] },\r\n              s: { a: 0, k: [100, 100] },\r\n              r: { a: 0, k: 0 },\r\n              o: { a: 0, k: 100 },\r\n              sk: { a: 0, k: 0 },\r\n              sa: { a: 0, k: 0 },\r\n              nm: \"Transform\",\r\n            },\r\n          ],\r\n          nm: \"Shape 1\",\r\n          bm: 0,\r\n          hd: false,\r\n        },\r\n      ],\r\n      ip: 0,\r\n      op: 52,\r\n      st: 0,\r\n      bm: 0,\r\n    },\r\n    {\r\n      ddd: 0,\r\n      ind: 7,\r\n      ty: 4,\r\n      nm: \"c\",\r\n      sr: 1,\r\n      ks: { p: { a: 0, k: [12, 12, 0] }, a: { a: 0, k: [-1.237, -2.112, 0] } },\r\n      ao: 0,\r\n      hasMask: true,\r\n      masksProperties: [\r\n        {\r\n          inv: false,\r\n          mode: \"s\",\r\n          pt: {\r\n            a: 1,\r\n            k: [\r\n              {\r\n                i: { x: 0, y: 1 },\r\n                o: { x: 0.333, y: 0 },\r\n                t: 25,\r\n                s: [\r\n                  {\r\n                    i: [\r\n                      [3.55, 0],\r\n                      [0, -3.55],\r\n                      [-3.55, 0],\r\n                      [0, 3.55],\r\n                    ],\r\n                    o: [\r\n                      [-3.55, 0],\r\n                      [0, 3.55],\r\n                      [3.55, 0],\r\n                      [0, -3.55],\r\n                    ],\r\n                    v: [\r\n                      [9.94, -19.487],\r\n                      [3.513, -13.06],\r\n                      [9.94, -6.633],\r\n                      [16.367, -13.06],\r\n                    ],\r\n                    c: true,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                t: 52,\r\n                s: [\r\n                  {\r\n                    i: [\r\n                      [3.55, 0],\r\n                      [0, -3.55],\r\n                      [-3.55, 0],\r\n                      [0, 3.55],\r\n                    ],\r\n                    o: [\r\n                      [-3.55, 0],\r\n                      [0, 3.55],\r\n                      [3.55, 0],\r\n                      [0, -3.55],\r\n                    ],\r\n                    v: [\r\n                      [3.065, -12.362],\r\n                      [-3.362, -5.935],\r\n                      [3.065, 0.492],\r\n                      [9.492, -5.935],\r\n                    ],\r\n                    c: true,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          o: { a: 0, k: 100 },\r\n          x: { a: 0, k: 0 },\r\n          nm: \"Mask 1\",\r\n        },\r\n      ],\r\n      shapes: [\r\n        {\r\n          ty: \"gr\",\r\n          it: [\r\n            {\r\n              d: 1,\r\n              ty: \"el\",\r\n              s: {\r\n                a: 1,\r\n                k: [\r\n                  {\r\n                    i: { x: [0.667, 0.667], y: [1, 1] },\r\n                    o: { x: [0.396, 0.396], y: [0, 0] },\r\n                    t: 16,\r\n                    s: [6, 6],\r\n                  },\r\n                  { t: 41, s: [16, 16] },\r\n                ],\r\n              },\r\n              p: { a: 0, k: [0, 0] },\r\n              cl: \"paintable\",\r\n              nm: \"Ellipse Path 1\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"fl\",\r\n              c: { a: 0, k: [1, 1, 1, 1] },\r\n              o: { a: 0, k: 100 },\r\n              r: 1,\r\n              bm: 0,\r\n              nm: \"Fill 1\",\r\n              cl:\"paintable\",\r\n              hd: false,\r\n            },\r\n            {\r\n              ty: \"tr\",\r\n              p: { a: 0, k: [-1.237, -2.112] },\r\n              a: { a: 0, k: [0, 0] },\r\n              s: { a: 0, k: [100, 100] },\r\n              r: { a: 0, k: 0 },\r\n              o: { a: 0, k: 100 },\r\n              sk: { a: 0, k: 0 },\r\n              sa: { a: 0, k: 0 },\r\n              nm: \"Transform\",\r\n            },\r\n          ],\r\n          nm: \"Ellipse 1\", \r\n          bm: 0,\r\n          hd: false,\r\n        },\r\n      ],\r\n      ip: 0,\r\n      op: 52,\r\n      st: 0,\r\n      bm: 0,\r\n    },\r\n  ],\r\n  markers: [],\r\n};\r\n\r\nexport default data;\r\n","import Lottie, { AnimationDirection, AnimationItem } from \"lottie-web\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport data from \"./DarkModeAnimationData\";\r\n\r\nconst NightToggleContainer = styled.div`\r\n  height: 50px;\r\n  width: 50px;\r\n\r\n  :hover {\r\n    .paintable {\r\n      fill: teal;\r\n      stroke: teal;\r\n    }\r\n  }\r\n\r\n  .paintable {\r\n    transition: fill 0.2s linear, stroke 0.2s linear;\r\n    fill: var(--text1);\r\n    stroke: var(--text1);\r\n  }\r\n`;\r\n\r\nexport default function DarkModeButton() {\r\n  const buttonRef = useRef<HTMLDivElement>(null);\r\n  const [direction, setDirection] = useState<AnimationDirection>(1);\r\n  const [animation, setAnimation] = useState<AnimationItem>();\r\n\r\n  useEffect(() => {\r\n    const current = buttonRef.current;\r\n\r\n    if (current) {\r\n      const body = document.getElementsByTagName(\"body\")[0];\r\n\r\n      setAnimation(\r\n        Lottie.loadAnimation({\r\n          container: current,\r\n          renderer: \"svg\",\r\n          loop: false,\r\n          autoplay: body.classList.contains(\"dark\"),\r\n          animationData: data,\r\n        })\r\n      );\r\n\r\n      return () => {\r\n        if (current?.firstChild) {\r\n          current.removeChild(current.firstChild);\r\n        }\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <NightToggleContainer\r\n      ref={buttonRef}\r\n      onClick={() => {\r\n        if (animation) {\r\n          const body = document.getElementsByTagName(\"body\")[0];\r\n\r\n          if (body.classList.contains(\"dark\")) {\r\n            body.classList.remove(\"dark\");\r\n          } else {\r\n            body.classList.add(\"dark\");\r\n          }\r\n\r\n          setDirection(-direction as AnimationDirection);\r\n          animation.setDirection(direction);\r\n          animation.play();\r\n        }\r\n      }}\r\n    ></NightToggleContainer>\r\n  );\r\n}\r\n","import { useLocation } from \"react-router-dom\";\r\nimport { Invite, parse } from \"./invite\";\r\n\r\nexport function useRawInvite() {\r\n  const query = new URLSearchParams(useLocation().search);\r\n  return query.get(\"i\") as string | null;\r\n}\r\n\r\nexport default function useInvite(): Invite {\r\n  return parse(useRawInvite());\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.main`\r\n  flex-grow: 1;\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useRawInvite } from \"../../main/useQuery\";\r\nimport Main from \"../common/Main\";\r\n\r\nexport function generateRoomId() {\r\n  return btoa(new Date().getTime().toString().substr(6)).replace(/=+/, \"\");\r\n}\r\n\r\nexport default function Welcome() {\r\n  const invite = useRawInvite();\r\n\r\n  const [code, setCode] = useState(\"\");\r\n\r\n  return (\r\n    <Main>\r\n      {invite && <Redirect to={`/versus?i=${invite}`} />}\r\n      <h2>Play online against your friends: </h2>\r\n      <Link to={\"/versus\"}>New Game</Link>\r\n      <h2>Join a game: </h2>\r\n      <input\r\n        type=\"text\"\r\n        value={code}\r\n        onChange={(event) => setCode(event.target.value)}\r\n      />\r\n      <Link to={`/versus?i=${code}`}>Join Game</Link>\r\n      <h2>Play together on this pc: </h2>\r\n      <Link to={\"/local\"}>New Game</Link>\r\n    </Main>\r\n  );\r\n}\r\n","import { stringify } from \"../../main/invite\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Player from \"../../main/Player\";\r\nimport DarkModeButton from \"../DarkModeButton\";\r\nimport { generateRoomId } from \"../pages/Welcome\";\r\n\r\nconst HeaderRow = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  nav {\r\n    display: flex;\r\n    gap: 30px;\r\n\r\n    a {\r\n      color: var(--text2);\r\n      text-decoration: none;\r\n      min-width: fit-content;\r\n\r\n      :visited {\r\n        color: var(--text2);\r\n      }\r\n\r\n      :hover {\r\n        color: teal;\r\n      }\r\n    }\r\n  }\r\n\r\n  a {\r\n    color: var(--text1);\r\n    text-decoration: none;\r\n\r\n    :visited {\r\n      color: var(--text1);\r\n    }\r\n\r\n    :hover {\r\n      color: var(--text1);\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function Header() {\r\n  return (\r\n    <HeaderRow>\r\n      <div>\r\n        <Link to=\"/\">\r\n          <h1>Tic Tac Toe React App</h1>\r\n        </Link>\r\n        <nav>\r\n          <Link to=\"/\">Home</Link>\r\n          <Link\r\n            to={`/versus?i=${stringify({\r\n              roomId: generateRoomId(),\r\n              playerId: Player.X,\r\n            })}`}\r\n          >\r\n            Online Versus\r\n          </Link>\r\n          <Link to=\"/local\">Local Versus</Link>\r\n          <Link to=\"/computer\">Computer Versus</Link>\r\n        </nav>\r\n      </div>\r\n      <DarkModeButton />\r\n    </HeaderRow>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport theme from \"../common/theme\";\r\nimport { FaCodeBranch, FaGithub, FaPen } from \"react-icons/fa\";\r\n\r\nconst FooterGrid = styled.footer`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 5px;\r\n  color: var(--text2);\r\n\r\n  div {\r\n    transition: color 0.2s linear;\r\n    color: var(--text2);\r\n\r\n    :hover {\r\n      color: teal;\r\n    }\r\n  }\r\n\r\n  a {\r\n    color: var(--text2);\r\n    text-decoration: none;\r\n\r\n    :visited {\r\n      color: var(--text2);\r\n    }\r\n\r\n    :hover {\r\n      color: teal;\r\n    }\r\n  }\r\n`;\r\n\r\nconst FooterItem = styled.div`\r\n  display: flex;\r\n  gap: 5px;\r\n\r\n  :nth-of-type(odd) {\r\n    flex-direction: row;\r\n  }\r\n\r\n  :nth-of-type(even) {\r\n    flex-direction: row-reverse;\r\n  }\r\n`;\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <FooterGrid>\r\n      <FooterItem>\r\n        <FaPen />\r\n        <span>Nico Kandut</span>\r\n      </FooterItem>\r\n      <FooterItem>\r\n        <FaCodeBranch />\r\n        <span>0.1.6</span>\r\n      </FooterItem>\r\n      <FooterItem>\r\n        <FaGithub />\r\n        <a href=\"https://github.com/NicoKandut/tic-tac-toe\">Repository</a>\r\n      </FooterItem>\r\n    </FooterGrid>\r\n  );\r\n}\r\n","const theme = {\r\n  gap: \"20px\",\r\n  padding: \"5px\",\r\n  red: \"tomato\",\r\n  blue: \"cornflowerblue\",\r\n  yellow: \"gold\",\r\n  semiRed: \"rgba(255, 150, 131, 0.6)\",\r\n  semiBlue: \"rgba(150, 187, 255, 0.6)\",\r\n  semiYellow: \"rgba(255, 236, 131, 0.4)\",\r\n  lightBeige: \" rgb(218, 192, 160)\",\r\n  darkBeige: \"rgb(182, 160, 134)\",\r\n};\r\n\r\nexport default theme;\r\n","enum GameType {\r\n  VERSUS,\r\n  LOCAL,\r\n  COMPUTER,\r\n}\r\n\r\nexport default GameType;\r\n","import Player from \"./Player\";\r\n\r\ntype RowIndex = 0 | 1 | 2;\r\ntype ColumnIndex = 0 | 1 | 2;\r\n\r\n/**\r\n * Checks a row for matching marks.\r\n */\r\nexport function checkRow(index: RowIndex, tiles: Array<Player>): Player | null {\r\n  return checkTriplet(tiles.slice(index * 3, (index + 1) * 3));\r\n}\r\n\r\n/**\r\n * Checks a column for matching marks.\r\n */\r\nexport function checkColumn(\r\n  index: ColumnIndex,\r\n  tiles: Array<Player>\r\n): Player | null {\r\n  return checkTriplet(tiles.filter((_, i) => i % 3 === index));\r\n}\r\n\r\nexport function checkTriplet(triplet: Array<Player>) {\r\n  if (triplet.every((tile) => tile !== Player.NONE && tile === triplet[0])) {\r\n    return triplet[0];\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function getWinner(tiles: Array<Player>): Player | null {\r\n  for (let i = 0; i < 3; i++) {\r\n    const h = checkRow(i as RowIndex, tiles);\r\n    if (h) return h;\r\n\r\n    const v = checkColumn(i as ColumnIndex, tiles);\r\n    if (v) return v;\r\n  }\r\n\r\n  const d =\r\n    checkTriplet([tiles[0], tiles[4], tiles[8]]) ||\r\n    checkTriplet([tiles[2], tiles[4], tiles[6]]);\r\n  if (d) return d;\r\n\r\n  const full = tiles.every((tile) => tile !== Player.NONE);\r\n  if (full) return Player.NONE;\r\n\r\n  return null;\r\n}\r\n","import { getWinner } from \"./gameLogic\";\r\nimport Player, { inverseOf } from \"./Player\";\r\n\r\nfunction prettyBoard(board: Player[]) {\r\n  return board\r\n    .map((value) => (value === \"none\" ? \" \" : value))\r\n    .reduce(\r\n      (result, value, index) => result + value + (index % 3 === 2 ? \"\\n\" : \"\"),\r\n      \"\\n\"\r\n    );\r\n}\r\n\r\nexport function getBestMove(tiles: Player[], player: Player) {\r\n  let bestRating = -2;\r\n  let bestIndex = -1;\r\n\r\n  tiles.forEach((value, index) => {\r\n    if (value === Player.NONE) {\r\n      const newBoard = [...tiles];\r\n      newBoard[index] = player;\r\n\r\n      const rating = -1 * evaluateBoard(newBoard, inverseOf(player));\r\n\r\n      if (rating > bestRating) {\r\n        bestRating = rating;\r\n        bestIndex = index;\r\n      }\r\n    }\r\n  });\r\n\r\n  return bestIndex;\r\n}\r\n\r\nexport function evaluateBoard(tiles: Player[], player: Player): number {\r\n  const winner = getWinner(tiles);\r\n\r\n  if (winner === player) {\r\n    return 1;\r\n  }\r\n\r\n  if (winner === inverseOf(player)) {\r\n    return -1;\r\n  }\r\n\r\n  if (winner === Player.NONE) {\r\n    return 0;\r\n  }\r\n\r\n  // Not finished\r\n\r\n  return getPossibleBoards(tiles, player).reduce((maxRating, board) => {\r\n    const opponent = inverseOf(player);\r\n    const boardRating = -1 * evaluateBoard(board, opponent);\r\n\r\n    return boardRating > maxRating ? boardRating : maxRating;\r\n  }, -2);\r\n}\r\n\r\nexport function getPossibleBoards(tiles: Player[], player: Player): Player[][] {\r\n  return tiles\r\n    .map((value, index) => {\r\n      if (value !== Player.NONE) {\r\n        return [];\r\n      }\r\n\r\n      const newBoard = [...tiles];\r\n      newBoard[index] = player;\r\n\r\n      return newBoard;\r\n    })\r\n    .filter((tiles) => tiles.length > 0);\r\n}\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport default styled.div(\r\n  ({ index }: { index: number }) => css`\r\n    padding: 10%;\r\n    display: grid;\r\n    background-color: var(--tile1);\r\n    aspect-ratio: 1/1;\r\n    grid-row: ${1 + Math.floor(index / 3)} / ${2 + Math.floor(index / 3)};\r\n    grid-column: ${1 + (index % 3)} / ${2 + (index % 3)};\r\n\r\n    :nth-of-type(even) {\r\n      background-color: var(--tile2);\r\n    }\r\n  `\r\n);\r\n","import React from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport Player from \"../main/Player\";\r\nimport theme from \"./common/theme\";\r\n\r\ninterface MarkProps {\r\n  type: Player;\r\n}\r\n\r\nconst PlayerColorSvg = styled.svg(\r\n  (props: MarkProps) =>\r\n    css`\r\n      * {\r\n        fill: transparent;\r\n      }\r\n\r\n      .shape * {\r\n        stroke: ${props.type === Player.X ? theme.red : theme.blue};\r\n      }\r\n\r\n      .shadow * {\r\n        stroke: var(--shadow);\r\n      }\r\n    `\r\n);\r\n\r\nexport default function Mark({ type }: MarkProps) {\r\n  return (\r\n    <PlayerColorSvg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 12 12\"\r\n      type={type}\r\n    >\r\n      {type === Player.X ? (\r\n        <>\r\n          <g className=\"shadow\">\r\n            <line x1=\"2\" y1=\"2.5\" x2=\"10\" y2=\"10.5\" strokeWidth=\"2\" />\r\n            <line x1=\"2\" y1=\"10.5\" x2=\"10\" y2=\"2.5\" strokeWidth=\"2\" />\r\n          </g>\r\n          <g className=\"shape\">\r\n            <line x1=\"2\" y1=\"2\" x2=\"10\" y2=\"10\" strokeWidth=\"2\" />\r\n            <line x1=\"2\" y1=\"10\" x2=\"10\" y2=\"2\" strokeWidth=\"2\" />\r\n          </g>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <g className=\"shadow\">\r\n            <circle cx=\"6\" cy=\"6.5\" r=\"4\" strokeWidth=\"2\" />\r\n          </g>\r\n          <g className=\"shape\">\r\n            <circle cx=\"6\" cy=\"6\" r=\"4\" strokeWidth=\"2\" />\r\n          </g>\r\n        </>\r\n      )}\r\n    </PlayerColorSvg>\r\n  );\r\n}\r\n","import React, { useCallback } from \"react\";\r\nimport Player from \"../main/Player\";\r\nimport AlternatingBgCell from \"./common/AlternatingBgCell\";\r\nimport Mark from \"./Mark\";\r\n\r\nexport default function Tile({\r\n  mark,\r\n  index,\r\n  processTurn,\r\n}: {\r\n  mark: Player;\r\n  index: number;\r\n  processTurn: (index: number, shouldSend: boolean | undefined) => void;\r\n}) {\r\n  const onClick = useCallback(() => {\r\n    if (mark === Player.NONE) {\r\n      processTurn(index, true);\r\n    }\r\n  }, [index, mark, processTurn]);\r\n\r\n  return (\r\n    <AlternatingBgCell onClick={onClick} index={index}>\r\n      {mark !== Player.NONE && <Mark type={mark} />}\r\n    </AlternatingBgCell>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Player from \"../main/Player\";\r\nimport Tile from \"./Tile\";\r\nimport Mark from \"./Mark\";\r\nimport styled, { css } from \"styled-components\";\r\nimport theme from \"./common/theme\";\r\n\r\ninterface BoardProps {\r\n  tiles: Player[];\r\n  processTurn: (index: number, shouldSend: boolean | undefined) => void;\r\n  winner: Player | null;\r\n}\r\n\r\nconst BoardGrid = styled.div`\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n  height: 100%;\r\n  aspect-ratio: 1/1;\r\n  margin: auto;\r\n\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  grid-template-rows: repeat(3, 1fr);\r\n  border: 5px var(--shadow) solid;\r\n  border-radius: 5px;\r\n  background-color: var(--shadow);\r\n`;\r\n\r\nconst Overlay = styled.div(\r\n  ({ winner }: Pick<BoardProps, \"winner\">) => css`\r\n    grid-row: 1/4;\r\n    grid-column: 1/4;\r\n    min-width: 100%;\r\n    min-height: 100%;\r\n    background: ${winner\r\n      ? { x: theme.semiRed, o: theme.semiBlue, none: theme.semiYellow }[winner]\r\n      : \"\"};\r\n  `\r\n);\r\n\r\nconst OverlayMark = styled(Mark)`\r\n  max-width: 60%;\r\n`;\r\n\r\nconst DrawText = styled.span`\r\n  font-size: 32px;\r\n  color: gold;\r\n  filter: drop-shadow(0 3px 0 gray);\r\n`;\r\n\r\nexport default function Board({ tiles, processTurn, winner }: BoardProps) {\r\n  return (\r\n    <BoardGrid className=\"board\">\r\n      {tiles.map((tile, index) => (\r\n        <Tile key={index} mark={tile} index={index} processTurn={processTurn} />\r\n      ))}\r\n      {winner && (\r\n        <Overlay winner={winner}>\r\n          {winner === Player.NONE ? (\r\n            <DrawText>Draw</DrawText>\r\n          ) : (\r\n            <OverlayMark type={winner} />\r\n          )}\r\n        </Overlay>\r\n      )}\r\n    </BoardGrid>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport theme from \"./theme\";\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  gap: ${theme.gap};\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { evaluateBoard } from \"../main/computer\";\r\nimport Player from \"../main/Player\";\r\nimport theme from \"./common/theme\";\r\n\r\nconst BlueBar = styled.div`\r\n  background: ${theme.blue};\r\n  height: 70px;\r\n  width: 500px;\r\n`;\r\n\r\nconst RedBar = styled.div`\r\n  background: ${theme.red};\r\n  height: 100%;\r\n`;\r\n\r\nexport default function Evaluation({\r\n  tiles,\r\n  player,\r\n}: {\r\n  tiles: Player[];\r\n  player: Player;\r\n}) {\r\n  return (\r\n    <BlueBar>\r\n      <RedBar\r\n        style={{\r\n          width: `${(evaluateBoard(tiles, player) + 1) * 50}%`,\r\n        }}\r\n      />\r\n    </BlueBar>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n  width: 100%;\r\n  height: 100px;\r\n  display: grid;\r\n  place-items: center;\r\n  color: var(--text2);\r\n  font-size: 16px;\r\n`;\r\n","import styled from \"styled-components\";\r\nimport theme from \"./theme\";\r\n\r\nexport default styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  gap: ${theme.gap};\r\n  padding-bottom: ${theme.padding};\r\n  overflow-x: hidden;\r\n  scroll-behavior: smooth;\r\n`;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Player from \"../main/Player\";\r\nimport Board from \"./Board\";\r\nimport PlaceholderMessage from \"./common/PlaceholderMessage\";\r\nimport ScrollableFlexRow from \"./common/ScrollableFlexRow\";\r\n\r\nexport const NO_OP = () => {};\r\n\r\nexport const HistoryBoardWrapper = styled.div`\r\n  width: 100px;\r\n  height: 100px;\r\n  display: flex;\r\n`;\r\n\r\nexport default function History({ games }: { games: [Player, Player[]][] }) {\r\n  const scrollRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (scrollRef.current) {\r\n      scrollRef.current.scrollLeft = scrollRef.current.scrollWidth;\r\n    }\r\n  }, [games]);\r\n\r\n  return (\r\n    <ScrollableFlexRow ref={scrollRef}>\r\n      {games.length > 0 ? (\r\n        games.map(([winner, tiles], index) => (\r\n          <HistoryBoardWrapper key={index}>\r\n            <Board tiles={tiles} winner={winner} processTurn={NO_OP} />\r\n          </HistoryBoardWrapper>\r\n        ))\r\n      ) : (\r\n        <PlaceholderMessage>\r\n          <span>No matches played yet...</span>\r\n        </PlaceholderMessage>\r\n      )}\r\n    </ScrollableFlexRow>\r\n  );\r\n}\r\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Connection from \"../@types/Connection\";\r\nimport { getBestMove } from \"../main/computer\";\r\nimport { getWinner } from \"../main/gameLogic\";\r\nimport GameType from \"../main/GameType\";\r\nimport Instruction, { ControlInstruction } from \"../main/Instruction\";\r\nimport { stringify } from \"../main/invite\";\r\nimport Player, { inverseOf } from \"../main/Player\";\r\nimport Board from \"./Board\";\r\nimport FlexRow from \"./common/FlexRow\";\r\nimport Evaluation from \"./Evaluation\";\r\nimport \"./Game.css\";\r\nimport History from \"./History\";\r\n\r\nconst ScoreRow = styled(FlexRow)`\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ConnectionRow = styled(FlexRow)`\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 5px;\r\n`;\r\n\r\nexport default function Game({\r\n  type,\r\n  playerId,\r\n  connection,\r\n  peerId,\r\n}: {\r\n  type: GameType;\r\n  playerId: Player;\r\n  connection: Connection | null;\r\n  peerId: string;\r\n}) {\r\n  const [tiles, setTiles] = useState(new Array<Player>(9).fill(Player.NONE));\r\n  const [games, setGames] = useState(new Array<[Player, Array<Player>]>());\r\n  const [winner, setWinner] = useState<Player | null>(null);\r\n  const [player, setPlayer] = useState(Player.X);\r\n\r\n  const processTurn = useCallback(\r\n    (index, shouldSend: boolean | undefined) => {\r\n      const newTiles = tiles;\r\n      newTiles.splice(index, 1, player);\r\n      setTiles(newTiles);\r\n      setPlayer(inverseOf(player));\r\n\r\n      const winner = getWinner(tiles);\r\n      setWinner(winner);\r\n\r\n      if (type === GameType.VERSUS && shouldSend) {\r\n        connection?.send(index);\r\n      }\r\n    },\r\n    [connection, player, tiles, type]\r\n  );\r\n\r\n  const doTurn = useCallback(\r\n    (index: number, shouldSend: boolean | undefined) => {\r\n      if ((connection && player === playerId) || type !== GameType.VERSUS) {\r\n        processTurn(index, shouldSend);\r\n      }\r\n    },\r\n    [connection, player, playerId, processTurn, type]\r\n  );\r\n\r\n  const reset = useCallback(() => {\r\n    if (winner) {\r\n      setGames([...games, [winner, tiles.map((tile) => tile)]]);\r\n      setTiles(new Array<Player>(9).fill(Player.NONE));\r\n      setWinner(null);\r\n    }\r\n  }, [games, tiles, winner]);\r\n\r\n  const processControl = useCallback(\r\n    (instruction: ControlInstruction, shouldSend: boolean | undefined) => {\r\n      if (instruction === \"reset\") {\r\n        reset();\r\n      }\r\n\r\n      if (type === GameType.VERSUS && shouldSend) {\r\n        connection?.send(instruction);\r\n      }\r\n    },\r\n    [connection, reset, type]\r\n  );\r\n\r\n  const processReset = useCallback(() => {\r\n    processControl(\"reset\", false);\r\n  }, [processControl]);\r\n\r\n  const score = useMemo(() => {\r\n    return games.reduce(\r\n      (result, [winner]) => {\r\n        result[winner] = result[winner] + 1;\r\n        return result;\r\n      },\r\n      {\r\n        [Player.X]: 0,\r\n        [Player.O]: 0,\r\n        [Player.NONE]: 0,\r\n      }\r\n    );\r\n  }, [games]);\r\n\r\n  useEffect(() => {\r\n    const conn = connection;\r\n\r\n    const handler = (data: Instruction) => {\r\n      if (typeof data === \"number\") processTurn(data, false);\r\n      else if (typeof data === \"string\") processControl(data, true);\r\n    };\r\n\r\n    conn?.on(\"data\", handler);\r\n\r\n    return () => conn?.off(\"data\", handler);\r\n  }, [connection, processControl, processTurn]);\r\n\r\n  const selectLink = useCallback((event) => {\r\n    var r = document.createRange();\r\n    r.selectNodeContents(event.target as Node);\r\n    var sel = window.getSelection();\r\n    if (sel) {\r\n      sel.removeAllRanges();\r\n      sel.addRange(r);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (type === GameType.COMPUTER && player === Player.O && !winner) {\r\n      doTurn(getBestMove(tiles, player), false);\r\n    }\r\n  }, [doTurn, player, tiles, type, winner]);\r\n\r\n  return (\r\n    <>\r\n      <History games={games} />\r\n      <ConnectionRow>\r\n        {type === GameType.LOCAL ? (\r\n          <span className=\"connected\">Local</span>\r\n        ) : type === GameType.COMPUTER ? (\r\n          <span className=\"connected\">Computer</span>\r\n        ) : connection ? (\r\n          connection.status === \"ERROR\" ? (\r\n            <span className=\"error\">Error</span>\r\n          ) : connection.status === \"CLOSED\" ? (\r\n            <span className=\"closed\">Closed</span>\r\n          ) : (\r\n            <span className=\"connected\">Connected</span>\r\n          )\r\n        ) : (\r\n          <>\r\n            <span className=\"invite\">Invite link: </span>\r\n            <code onClick={selectLink}>{`https://${\r\n              window.location.host + process.env.PUBLIC_URL\r\n            }?i=${stringify({\r\n              roomId: peerId,\r\n              playerId: inverseOf(playerId),\r\n            })}`}</code>\r\n          </>\r\n        )}\r\n      </ConnectionRow>\r\n      <ScoreRow>\r\n        <div className=\"turn\">\r\n          {winner ? (\r\n            <span className={winner}>\r\n              {winner === Player.NONE\r\n                ? \"Draw\"\r\n                : winner === playerId\r\n                ? \"You win\"\r\n                : \"You lose\"}\r\n            </span>\r\n          ) : (\r\n            <span className={player}>\r\n              {player === playerId ? \"Your turn\" : \"Opponent's turn\"}\r\n            </span>\r\n          )}\r\n        </div>\r\n        <Evaluation tiles={tiles} player={player} />\r\n        <div className=\"score\">\r\n          <span className=\"x\">{score[Player.X]}</span>\r\n          <span>-</span>\r\n          <span className=\"o\">{score[Player.O]}</span>\r\n        </div>\r\n      </ScoreRow>\r\n      <Board tiles={tiles} winner={winner} processTurn={doTurn} />\r\n      {winner && (\r\n        <button className=\"continue\" onClick={processReset}>\r\n          Again\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport GameType from \"../../main/GameType\";\r\nimport Player from \"../../main/Player\";\r\nimport usePeerConnection from \"../../main/usePeerConnection\";\r\nimport useInvite from \"../../main/useQuery\";\r\nimport Game from \"../Game\";\r\n\r\nexport default function Versus() {\r\n  const { roomId, playerId = Player.X } = useInvite();\r\n  const { connection, peerId } = usePeerConnection(playerId, roomId);\r\n\r\n  return (\r\n    <Game\r\n      type={GameType.VERSUS}\r\n      playerId={playerId}\r\n      connection={connection}\r\n      peerId={peerId}\r\n    />\r\n  );\r\n}\r\n","import Peer from \"peerjs\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Connection from \"../@types/Connection\";\r\nimport Player from \"./Player\";\r\n\r\nexport default function usePeerConnection(\r\n  playerId: Player,\r\n  host: string | undefined\r\n): {\r\n  connection: Connection | null;\r\n  peerId: string;\r\n} {\r\n  const [connection, setConnection] = useState<Connection | null>(null);\r\n  const [peerId, setPeerId] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const peer = new Peer();\r\n\r\n    peer.on(\"error\", (err) => {\r\n      console.error(\"ERROR:\", err);\r\n    });\r\n\r\n    peer.on(\"open\", (id) => {\r\n      setPeerId(id);\r\n      console.debug(\"Peer Id:\", id);\r\n\r\n      // connect to host if possible\r\n      if (host) {\r\n        console.debug(\"Role: HOST\");\r\n        const conn = peer.connect(host);\r\n\r\n        setConnection(conn);\r\n        conn.on(\"error\", () => {\r\n          setConnection({ ...conn, status: \"ERROR\" });\r\n        });\r\n        conn.on(\"close\", () => {\r\n          setConnection({ ...conn, status: \"CLOSED\" });\r\n        });\r\n\r\n        console.debug(\"Connection established\", conn);\r\n      }\r\n    });\r\n\r\n    if (!host) {\r\n      console.debug(\"Role: CLIENT\");\r\n      peer.on(\"connection\", (conn) => {\r\n        setConnection(conn);\r\n        conn.on(\"error\", () => {\r\n          setConnection({ ...conn, status: \"ERROR\" });\r\n        });\r\n        conn.on(\"close\", () => {\r\n          setConnection({ ...conn, status: \"CLOSED\" });\r\n        });\r\n        console.debug(\"Connection established\", conn);\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      peer.destroy();\r\n    };\r\n  }, [playerId, host]);\r\n\r\n  return { connection, peerId };\r\n}\r\n","import React from \"react\";\r\nimport GameType from \"../../main/GameType\";\r\nimport Player from \"../../main/Player\";\r\nimport Game from \"../Game\";\r\n\r\nexport default function Local() {\r\n  return (\r\n    <Game\r\n      type={GameType.LOCAL}\r\n      playerId={Player.X}\r\n      connection={null}\r\n      peerId={\"\"}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport GameType from \"../../main/GameType\";\r\nimport Player from \"../../main/Player\";\r\nimport Game from \"../Game\";\r\n\r\nexport default function Computer() {\r\n  return (\r\n    <Game\r\n      type={GameType.COMPUTER}\r\n      playerId={Player.X}\r\n      connection={null}\r\n      peerId={\"\"}\r\n    />\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport theme from \"./theme\";\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n  gap: ${theme.gap};\r\n  max-width: 100%;\r\n`;\r\n","import React from \"react\";\r\nimport { getBestMove } from \"../../main/computer\";\r\nimport { getWinner } from \"../../main/gameLogic\";\r\nimport Player from \"../../main/Player\";\r\nimport Board from \"../Board\";\r\nimport FlexColumn from \"../common/FlexColumn\";\r\nimport { NO_OP } from \"../History\";\r\n\r\nexport default function Test() {\r\n  const board = [\r\n    Player.O,\r\n    Player.O,\r\n    Player.X,\r\n    Player.X,\r\n    Player.NONE,\r\n    Player.NONE,\r\n    Player.O,\r\n    Player.NONE,\r\n    Player.X,\r\n  ];\r\n\r\n  return (\r\n    <FlexColumn>\r\n      <Board tiles={board} winner={getWinner(board)} processTurn={NO_OP} />\r\n      <span>Best Move for O</span>\r\n      <span>{getBestMove(board, Player.O)}</span>\r\n    </FlexColumn>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"./components/layout/Header\";\r\nimport Footer from \"./components/layout/Footer\";\r\nimport Welcome from \"./components/pages/Welcome\";\r\nimport theme from \"./components/common/theme\";\r\nimport Versus from \"./components/pages/Versus\";\r\nimport Local from \"./components/pages/Local\";\r\nimport Computer from \"./components/pages/Computer\";\r\nimport Test from \"./components/pages/Test\";\r\n\r\nconst AppLayout = styled.div`\r\n  display: grid;\r\n  padding: ${theme.gap};\r\n  gap: ${theme.gap};\r\n  max-width: 1000px;\r\n  margin: auto;\r\n  min-height: 100vh;\r\n  max-height: 100vh;\r\n  grid-template-rows: repeat(4, auto) 1fr auto;\r\n`;\r\n\r\nfunction App() {\r\n  return (\r\n    <Router basename=\"/tic-tac-toe\">\r\n      <AppLayout>\r\n        <Header />\r\n        <Switch>\r\n          <Route path={`/local`}>\r\n            <Local />\r\n          </Route>\r\n          <Route path={`/versus`}>\r\n            <Versus />\r\n          </Route>\r\n          <Route path={`/computer`}>\r\n            <Computer />\r\n          </Route>\r\n\r\n          <Route path={`/test`}>\r\n            <Test />\r\n          </Route>\r\n          <Route path={`/`}>\r\n            <Welcome />\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n      </AppLayout>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}