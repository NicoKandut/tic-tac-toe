(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{37:function(n,t,e){},44:function(n,t){function e(n){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id=44},45:function(n,t,e){},46:function(n,t,e){"use strict";e.r(t);var r,a=e(0),c=e(1),o=e.n(c),i=e(26),s=e.n(i),l=(e(37),e(3)),u=e(10),d=e(4),b=e(2),j=e(6);function O(n){return encodeURI(btoa("".concat(n.roomId,":").concat(n.playerId)))}function p(n){if(n===r.O)return r.X;if(n===r.X)return r.O;throw new Error("Cannot find inverse of ".concat(n))}!function(n){n.NONE="none",n.X="x",n.O="o"}(r||(r={}));var f=r,h=e(27),x=e.n(h),v={v:"5.5.8",fr:60,ip:0,op:52,w:24,h:24,nm:"night-toggle",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"l6",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},r:{a:0,k:300},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",cl:"paintable",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],cl:"paintable",nm:"Stroke 1",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"l5",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},r:{a:0,k:240},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",cl:"paintable",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],cl:"paintable",nm:"Stroke 1",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"l4",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},r:{a:0,k:180},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",cl:"paintable",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],cl:"paintable",nm:"Stroke 1",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"l3",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},r:{a:0,k:120},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",cl:"paintable",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],cl:"paintable",nm:"Stroke 1",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"l2",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},r:{a:0,k:60},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",cl:"paintable",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],nm:"Stroke 1",cl:"paintable",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"l1",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[100]},{t:18,s:[0]}]},p:{a:0,k:[12,12,0]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[0,-6.004],[0,-10.941]],c:!1}},nm:"Path 1",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},w:{a:0,k:2},lc:2,lj:1,ml:4,bm:0,d:[{n:"d",nm:"dash",v:{a:0,k:10}},{n:"g",nm:"gap",v:{a:0,k:10}},{n:"o",nm:"offset",v:{a:1,k:[{i:{x:[.431],y:[1]},o:{x:[.45],y:[0]},t:0,s:[0]},{t:20,s:[-5]}]}}],nm:"Stroke 1",cl:"paintable",hd:!1},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Shape 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"c",sr:1,ks:{p:{a:0,k:[12,12,0]},a:{a:0,k:[-1.237,-2.112,0]}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"s",pt:{a:1,k:[{i:{x:0,y:1},o:{x:.333,y:0},t:25,s:[{i:[[3.55,0],[0,-3.55],[-3.55,0],[0,3.55]],o:[[-3.55,0],[0,3.55],[3.55,0],[0,-3.55]],v:[[9.94,-19.487],[3.513,-13.06],[9.94,-6.633],[16.367,-13.06]],c:!0}]},{t:52,s:[{i:[[3.55,0],[0,-3.55],[-3.55,0],[0,3.55]],o:[[-3.55,0],[0,3.55],[3.55,0],[0,-3.55]],v:[[3.065,-12.362],[-3.362,-5.935],[3.065,.492],[9.492,-5.935]],c:!0}]}]},o:{a:0,k:100},x:{a:0,k:0},nm:"Mask 1"}],shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:1,k:[{i:{x:[.667,.667],y:[1,1]},o:{x:[.396,.396],y:[0,0]},t:16,s:[6,6]},{t:41,s:[16,16]}]},p:{a:0,k:[0,0]},cl:"paintable",nm:"Ellipse Path 1",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1]},o:{a:0,k:100},r:1,bm:0,nm:"Fill 1",cl:"paintable",hd:!1},{ty:"tr",p:{a:0,k:[-1.237,-2.112]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100},sk:{a:0,k:0},sa:{a:0,k:0},nm:"Transform"}],nm:"Ellipse 1",bm:0,hd:!1}],ip:0,op:52,st:0,bm:0}],markers:[]};function m(){var n=Object(l.a)(["\n  height: 50px;\n  width: 50px;\n\n  :hover {\n    .paintable {\n      fill: teal;\n      stroke: teal;\n    }\n  }\n\n  .paintable {\n    transition: fill 0.2s linear, stroke 0.2s linear;\n    fill: var(--text1);\n    stroke: var(--text1);\n  }\n"]);return m=function(){return n},n}var k=b.b.div(m());function g(){var n=Object(c.useRef)(null),t=Object(c.useState)(1),e=Object(j.a)(t,2),r=e[0],o=e[1],i=Object(c.useState)(),s=Object(j.a)(i,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){var t=n.current;if(t){var e=document.getElementsByTagName("body")[0];return u(x.a.loadAnimation({container:t,renderer:"svg",loop:!1,autoplay:e.classList.contains("dark"),animationData:v})),function(){(null===t||void 0===t?void 0:t.firstChild)&&t.removeChild(t.firstChild)}}}),[]),Object(a.jsx)(k,{ref:n,onClick:function(){if(l){var n=document.getElementsByTagName("body")[0];n.classList.contains("dark")?n.classList.remove("dark"):n.classList.add("dark"),o(-r),l.setDirection(r),l.play()}}})}function y(){return new URLSearchParams(Object(d.g)().search).get("i")}function w(){return function(n){var t=atob(decodeURI(n||"")).split(":"),e=Object(j.a)(t,2);return{roomId:e[0],playerId:e[1]}}(y())}function N(){var n=Object(l.a)(["\n  margin: 0;\n"]);return N=function(){return n},n}function E(){var n=Object(l.a)(["\n  margin: 0;\n"]);return E=function(){return n},n}function C(){var n=Object(l.a)(["\n  margin: 0;\n"]);return C=function(){return n},n}b.b.h1(C());var S=b.b.h2(E()),R=b.b.h3(N());function T(){var n=Object(l.a)(["\n  background-color: var(--bg2);\n  height: 1px;\n  width: 100%;\n"]);return T=function(){return n},n}function I(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  border-radius: 15px;\n  padding: 20px;\n  gap: 10px;\n"]);return I=function(){return n},n}var L=b.b.div(I()),P=b.b.div(T());function X(n){var t=n.title,e=n.children;return Object(a.jsxs)(L,{children:[Object(a.jsx)(S,{children:t}),Object(a.jsx)(P,{}),e]})}function M(){var n=Object(l.a)(["\n  height: 32px;\n  padding: 0 10px;\n  display: flex;\n  align-items: center;\n  background-color: var(--bg2);\n  border-radius: 5px;\n  filter: drop-shadow(0 5px 0 var(--shadow));\n  transition: all 0.2s linear;\n  text-decoration: none;\n  color: var(--text1);\n\n  :hover {\n    opacity: 0.75;\n  }\n"]);return M=function(){return n},n}var U=Object(b.b)(u.b)(M());function A(){var n=Object(l.a)(["\n  flex-grow: 1;\n"]);return A=function(){return n},n}var D=b.b.main(A());function V(){var n=Object(l.a)(["\n  display: flex;\n  height: 32px;\n  padding: 0 10px;\n  align-items: center;\n  border: none;\n  border-radius: 0 5px 5px 0;\n  background-color: var(--bg2);\n\n  :hover {\n    opacity: 0.75;\n  }\n"]);return V=function(){return n},n}function B(){var n=Object(l.a)(["\n  display: flex;\n  height: 32px;\n  padding: 0 10px;\n  align-items: center;\n  border: var(--bg2) solid 1px;\n  border-radius: 5px 0 0;\n"]);return B=function(){return n},n}function F(){var n=Object(l.a)(["\n  display: inline-flex;\n  align-items: center;\n  border-radius: 5px;\n  filter: drop-shadow(0 5px 0 var(--shadow));\n  transition: all 0.2s linear;\n  color: var(--text1);\n  overflow: hidden;\n"]);return F=function(){return n},n}var W=b.b.div(F()),Y=b.b.input(B()),G=b.b.button(V());function J(n){var t=n.value,e=n.setValue,r=n.onSubmit,o=n.submitText,i=Object(c.useCallback)((function(n){e(n.target.value)}),[e]);return Object(a.jsxs)(W,{children:[Object(a.jsx)(Y,{type:"text",value:t,onChange:i}),Object(a.jsx)(G,{onClick:r,children:o})]})}function z(){var n=Object(l.a)(["\n  display: grid;\n  grid-template-columns: auto auto;\n  gap: 20px;\n"]);return z=function(){return n},n}var H=b.b.div(z());function K(){var n=y(),t=Object(c.useState)(""),e=Object(j.a)(t,2),r=e[0],o=e[1],i=Object(c.useCallback)((function(){window.location.search="?i=".concat(r)}),[r]);return n?Object(a.jsx)(d.a,{to:"/versus?i=".concat(n)}):Object(a.jsx)(D,{children:Object(a.jsxs)(H,{children:[Object(a.jsx)(X,{title:"Play online against your friends",children:Object(a.jsxs)(H,{children:[Object(a.jsx)(R,{children:"Create Game"}),Object(a.jsx)(R,{children:"Join Game"}),Object(a.jsx)(U,{to:"/versus",children:"New Game"}),Object(a.jsx)(J,{value:r,setValue:o,submitText:"Join",onSubmit:i})]})}),Object(a.jsx)(X,{title:"Play together on this PC",children:Object(a.jsx)(U,{to:"/local",children:"New Game"})})]})})}function _(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  nav {\n    display: flex;\n    gap: 30px;\n\n    a {\n      color: var(--text2);\n      text-decoration: none;\n      min-width: fit-content;\n\n      :visited {\n        color: var(--text2);\n      }\n\n      :hover {\n        color: teal;\n      }\n    }\n  }\n\n  a {\n    color: var(--text1);\n    text-decoration: none;\n\n    :visited {\n      color: var(--text1);\n    }\n\n    :hover {\n      color: var(--text1);\n    }\n  }\n"]);return _=function(){return n},n}var q=b.b.header(_());function Q(){return Object(a.jsxs)(q,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(u.b,{to:"/",children:Object(a.jsx)("h1",{children:"Tic Tac Toe React App"})}),Object(a.jsxs)("nav",{children:[Object(a.jsx)(u.b,{to:"/",children:"Home"}),Object(a.jsx)(u.b,{to:"/versus?i=".concat(O({roomId:btoa((new Date).getTime().toString().substr(6)).replace(/=+/,""),playerId:f.X})),children:"Online Versus"}),Object(a.jsx)(u.b,{to:"/local",children:"Local Versus"}),Object(a.jsx)(u.b,{to:"/computer",children:"Computer Versus"})]})]}),Object(a.jsx)(g,{})]})}var Z=e(20);function $(){var n=Object(l.a)(["\n  display: flex;\n  gap: 5px;\n\n  :nth-of-type(odd) {\n    flex-direction: row;\n  }\n\n  :nth-of-type(even) {\n    flex-direction: row-reverse;\n  }\n"]);return $=function(){return n},n}function nn(){var n=Object(l.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 5px;\n  color: var(--text2);\n\n  div {\n    transition: color 0.2s linear;\n    color: var(--text2);\n\n    :hover {\n      color: teal;\n    }\n  }\n\n  a {\n    color: var(--text2);\n    text-decoration: none;\n\n    :visited {\n      color: var(--text2);\n    }\n\n    :hover {\n      color: teal;\n    }\n  }\n"]);return nn=function(){return n},n}var tn=b.b.footer(nn()),en=b.b.div($());function rn(){return Object(a.jsxs)(tn,{children:[Object(a.jsxs)(en,{children:[Object(a.jsx)(Z.c,{}),Object(a.jsx)("span",{children:"Nico Kandut"})]}),Object(a.jsxs)(en,{children:[Object(a.jsx)(Z.a,{}),Object(a.jsx)("span",{children:"0.1.6"})]}),Object(a.jsxs)(en,{children:[Object(a.jsx)(Z.b,{}),Object(a.jsx)("a",{href:"https://github.com/NicoKandut/tic-tac-toe",children:"Repository"})]})]})}var an,cn={gap:"20px",padding:"5px",red:"tomato",blue:"cornflowerblue",yellow:"gold",semiRed:"rgba(255, 150, 131, 0.6)",semiBlue:"rgba(150, 187, 255, 0.6)",semiYellow:"rgba(255, 236, 131, 0.4)",lightBeige:" rgb(218, 192, 160)",darkBeige:"rgb(182, 160, 134)"};!function(n){n[n.VERSUS=0]="VERSUS",n[n.LOCAL=1]="LOCAL",n[n.COMPUTER=2]="COMPUTER"}(an||(an={}));var on=an,sn=e(11),ln=e(31),un=e.n(ln);var dn,bn=e(9),jn=e(18);function On(n,t){return fn(t.slice(3*n,3*(n+1)))}function pn(n,t){return fn(t.filter((function(t,e){return e%3===n})))}function fn(n){return n.every((function(t){return t!==f.NONE&&t===n[0]}))?n[0]:null}function hn(n){for(var t=0;t<3;t++){var e=On(t,n);if(e)return e;var r=pn(t,n);if(r)return r}var a=fn([n[0],n[4],n[8]])||fn([n[2],n[4],n[6]]);return a||(n.every((function(n){return n!==f.NONE}))?f.NONE:null)}var xn=(dn={},Object(bn.a)(dn,f.X,0),Object(bn.a)(dn,f.O,0),Object(bn.a)(dn,f.NONE,0),dn);function vn(){return xn}function mn(n,t){var e=-2,r=[-1];return function(){var n;n={},Object(bn.a)(n,f.X,0),Object(bn.a)(n,f.O,0),Object(bn.a)(n,f.NONE,0),xn=n}(),n.forEach((function(a,c){if(a===f.NONE){var o=Object(jn.a)(n);o[c]=t;var i=-1*kn(o,p(t));i>e?(e=i,r=[c]):i===e&&r.push(c)}})),r}function kn(n,t){var e=hn(n);return e&&xn[e]++,e===t?1:e===p(t)?-1:e===f.NONE?0:function(n,t){return n.map((function(e,r){if(e!==f.NONE)return[];var a=Object(jn.a)(n);return a[r]=t,a})).filter((function(n){return n.length>0}))}(n,t).reduce((function(n,e){var r=-1*kn(e,p(t));return r>n?r:n}),-2)}function gn(){var n=Object(l.a)(["\n    padding: 10%;\n    display: grid;\n    background-color: var(--tile1);\n    aspect-ratio: 1/1;\n    grid-row: "," / ",";\n    grid-column: "," / ",";\n\n    :nth-of-type(even) {\n      background-color: var(--tile2);\n    }\n  "]);return gn=function(){return n},n}var yn=b.b.div((function(n){var t=n.index;return Object(b.a)(gn(),1+Math.floor(t/3),2+Math.floor(t/3),1+t%3,2+t%3)}));function wn(){var n=Object(l.a)(["\n      * {\n        fill: transparent;\n      }\n\n      .shape * {\n        stroke: ",";\n      }\n\n      .shadow * {\n        stroke: var(--shadow);\n      }\n    "]);return wn=function(){return n},n}var Nn=b.b.svg((function(n){return Object(b.a)(wn(),n.type===f.X?cn.red:cn.blue)}));function En(n){var t=n.type;return Object(a.jsx)(Nn,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",type:t,children:t===f.X?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("g",{className:"shadow",children:[Object(a.jsx)("line",{x1:"2",y1:"2.5",x2:"10",y2:"10.5",strokeWidth:"2"}),Object(a.jsx)("line",{x1:"2",y1:"10.5",x2:"10",y2:"2.5",strokeWidth:"2"})]}),Object(a.jsxs)("g",{className:"shape",children:[Object(a.jsx)("line",{x1:"2",y1:"2",x2:"10",y2:"10",strokeWidth:"2"}),Object(a.jsx)("line",{x1:"2",y1:"10",x2:"10",y2:"2",strokeWidth:"2"})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("g",{className:"shadow",children:Object(a.jsx)("circle",{cx:"6",cy:"6.5",r:"4",strokeWidth:"2"})}),Object(a.jsx)("g",{className:"shape",children:Object(a.jsx)("circle",{cx:"6",cy:"6",r:"4",strokeWidth:"2"})})]})})}function Cn(n){var t=n.mark,e=n.index,r=n.processTurn,o=Object(c.useCallback)((function(){t===f.NONE&&r(e,!0)}),[e,t,r]);return Object(a.jsx)(yn,{onClick:o,index:e,children:t!==f.NONE&&Object(a.jsx)(En,{type:t})})}function Sn(){var n=Object(l.a)(["\n  font-size: 32px;\n  color: gold;\n  filter: drop-shadow(0 3px 0 gray);\n"]);return Sn=function(){return n},n}function Rn(){var n=Object(l.a)(["\n  max-width: 60%;\n"]);return Rn=function(){return n},n}function Tn(){var n=Object(l.a)(["\n    grid-row: 1/4;\n    grid-column: 1/4;\n    min-width: 100%;\n    min-height: 100%;\n    background: ",";\n  "]);return Tn=function(){return n},n}function In(){var n=Object(l.a)(["\n  max-height: 100%;\n  max-width: 100%;\n  height: 100%;\n  aspect-ratio: 1/1;\n  margin: auto;\n\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n  border: 5px var(--shadow) solid;\n  border-radius: 5px;\n  background-color: var(--shadow);\n"]);return In=function(){return n},n}var Ln=b.b.div(In()),Pn=b.b.div((function(n){var t=n.winner;return Object(b.a)(Tn(),t?{x:cn.semiRed,o:cn.semiBlue,none:cn.semiYellow}[t]:"")})),Xn=Object(b.b)(En)(Rn()),Mn=b.b.span(Sn());function Un(n){var t=n.tiles,e=n.processTurn,r=n.winner;return Object(a.jsxs)(Ln,{className:"board",children:[t.map((function(n,t){return Object(a.jsx)(Cn,{mark:n,index:t,processTurn:e},t)})),r&&Object(a.jsx)(Pn,{winner:r,children:r===f.NONE?Object(a.jsx)(Mn,{children:"Draw"}):Object(a.jsx)(Xn,{type:r})})]})}function An(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  gap: ",";\n"]);return An=function(){return n},n}var Dn=b.b.div(An(),cn.gap);function Vn(){var n=Object(l.a)(["\n  background: ",";\n"]);return Vn=function(){return n},n}function Bn(){var n=Object(l.a)(["\n  background: ",";\n"]);return Bn=function(){return n},n}function Fn(){var n=Object(l.a)(["\n  background: ",";\n"]);return Fn=function(){return n},n}function Wn(){var n=Object(l.a)(["\n    display: grid;\n    height: 70px;\n    width: 500px;\n\n    grid-template-columns: ","fr ","fr ","fr;\n    align-items: stretch;\n  "]);return Wn=function(){return n},n}var Yn=b.b.div((function(n){var t=n.x,e=n.o,r=n.none;return Object(b.a)(Wn(),t,r,e)})),Gn=b.b.div(Fn(),cn.blue),Jn=b.b.div(Bn(),cn.red),zn=b.b.div(Vn(),cn.yellow);function Hn(n){var t=n.outcomes;return Object(a.jsxs)(Yn,Object(sn.a)(Object(sn.a)({},t),{},{children:[Object(a.jsx)(Jn,{}),Object(a.jsx)(zn,{}),Object(a.jsx)(Gn,{})]}))}e(45);function Kn(){var n=Object(l.a)(["\n  width: 100%;\n  height: 100px;\n  display: grid;\n  place-items: center;\n  color: var(--text2);\n  font-size: 16px;\n"]);return Kn=function(){return n},n}var _n=b.b.div(Kn());function qn(){var n=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  gap: ",";\n  padding-bottom: ",";\n  overflow-x: hidden;\n  scroll-behavior: smooth;\n"]);return qn=function(){return n},n}var Qn=b.b.div(qn(),cn.gap,cn.padding);function Zn(){var n=Object(l.a)(["\n  width: 100px;\n  height: 100px;\n  display: flex;\n"]);return Zn=function(){return n},n}var $n=function(){},nt=b.b.div(Zn());function tt(n){var t=n.games,e=Object(c.useRef)(null);return Object(c.useEffect)((function(){e.current&&(e.current.scrollLeft=e.current.scrollWidth)}),[t]),Object(a.jsx)(Qn,{ref:e,children:t.length>0?t.map((function(n,t){var e=Object(j.a)(n,2),r=e[0],c=e[1];return Object(a.jsx)(nt,{children:Object(a.jsx)(Un,{tiles:c,winner:r,processTurn:$n})},t)})):Object(a.jsx)(_n,{children:Object(a.jsx)("span",{children:"No matches played yet..."})})})}function et(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  gap: 5px;\n"]);return et=function(){return n},n}function rt(){var n=Object(l.a)(["\n  justify-content: space-between;\n"]);return rt=function(){return n},n}var at=Object(b.b)(Dn)(rt()),ct=Object(b.b)(Dn)(et());function ot(n){var t=n.type,e=n.playerId,r=n.connection,o=n.peerId,i=Object(c.useState)(new Array(9).fill(f.NONE)),s=Object(j.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(new Array),b=Object(j.a)(d,2),h=b[0],x=b[1],v=Object(c.useState)(null),m=Object(j.a)(v,2),k=m[0],g=m[1],y=Object(c.useState)(f.X),w=Object(j.a)(y,2),N=w[0],E=w[1],C=Object(c.useMemo)(vn,[N]),S=Object(c.useCallback)((function(n,e){var a=l;a.splice(n,1,N),u(a),E(p(N));var c=hn(l);g(c),t===on.VERSUS&&e&&(null===r||void 0===r||r.send(n))}),[r,N,l,t]),R=Object(c.useCallback)((function(n,a){(r&&N===e||t!==on.VERSUS)&&S(n,a)}),[r,N,e,S,t]),T=Object(c.useCallback)((function(){k&&(x([].concat(Object(jn.a)(h),[[k,l.map((function(n){return n}))]])),u(new Array(9).fill(f.NONE)),g(null))}),[h,l,k]),I=Object(c.useCallback)((function(n,e){"reset"===n&&T(),t===on.VERSUS&&e&&(null===r||void 0===r||r.send(n))}),[r,T,t]),L=Object(c.useCallback)((function(){I("reset",!1)}),[I]),P=Object(c.useMemo)((function(){var n;return h.reduce((function(n,t){var e=Object(j.a)(t,1)[0];return n[e]=n[e]+1,n}),(n={},Object(bn.a)(n,f.X,0),Object(bn.a)(n,f.O,0),Object(bn.a)(n,f.NONE,0),n))}),[h]);Object(c.useEffect)((function(){var n=r,t=function(n){"number"===typeof n?S(n,!1):"string"===typeof n&&I(n,!0)};return null===n||void 0===n||n.on("data",t),function(){return null===n||void 0===n?void 0:n.off("data",t)}}),[r,I,S]);var X=Object(c.useCallback)((function(n){var t=document.createRange();t.selectNodeContents(n.target);var e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(t))}),[]);return Object(c.useEffect)((function(){if(t===on.COMPUTER&&N===f.O&&!k){var n=mn(l,N);R(n[Math.trunc(1e3*Math.random())%n.length],!1)}}),[R,N,l,t,k]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(tt,{games:h}),Object(a.jsx)(ct,{children:t===on.LOCAL?Object(a.jsx)("span",{className:"connected",children:"Local"}):t===on.COMPUTER?Object(a.jsx)("span",{className:"connected",children:"Computer"}):r?"ERROR"===r.status?Object(a.jsx)("span",{className:"error",children:"Error"}):"CLOSED"===r.status?Object(a.jsx)("span",{className:"closed",children:"Closed"}):Object(a.jsx)("span",{className:"connected",children:"Connected"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"invite",children:"Invite link: "}),Object(a.jsx)("code",{onClick:X,children:"https://".concat(window.location.host+"/tic-tac-toe","?i=").concat(O({roomId:o,playerId:p(e)}))})]})}),Object(a.jsxs)(at,{children:[Object(a.jsx)("div",{className:"turn",children:k?Object(a.jsx)("span",{className:k,children:k===f.NONE?"Draw":k===e?"You win":"You lose"}):Object(a.jsx)("span",{className:N,children:N===e?"Your turn":"Opponent's turn"})}),Object(a.jsx)(Hn,{outcomes:C}),Object(a.jsxs)("div",{className:"score",children:[Object(a.jsx)("span",{className:"x",children:P[f.X]}),Object(a.jsx)("span",{children:"-"}),Object(a.jsx)("span",{className:"o",children:P[f.O]})]})]}),Object(a.jsx)(Un,{tiles:l,winner:k,processTurn:R}),k&&Object(a.jsx)("button",{className:"continue",onClick:L,children:"Again"})]})}function it(){var n=w(),t=n.roomId,e=n.playerId,r=void 0===e?f.X:e,o=function(n,t){var e=Object(c.useState)(null),r=Object(j.a)(e,2),a=r[0],o=r[1],i=Object(c.useState)(""),s=Object(j.a)(i,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){var n=new un.a;return n.on("error",(function(n){console.error("ERROR:",n)})),n.on("open",(function(e){if(u(e),console.debug("Peer Id:",e),t){console.debug("Role: HOST");var r=n.connect(t);o(r),r.on("error",(function(){o(Object(sn.a)(Object(sn.a)({},r),{},{status:"ERROR"}))})),r.on("close",(function(){o(Object(sn.a)(Object(sn.a)({},r),{},{status:"CLOSED"}))})),console.debug("Connection established",r)}})),t||(console.debug("Role: CLIENT"),n.on("connection",(function(n){o(n),n.on("error",(function(){o(Object(sn.a)(Object(sn.a)({},n),{},{status:"ERROR"}))})),n.on("close",(function(){o(Object(sn.a)(Object(sn.a)({},n),{},{status:"CLOSED"}))})),console.debug("Connection established",n)}))),function(){n.destroy()}}),[n,t]),{connection:a,peerId:l}}(r,t),i=o.connection,s=o.peerId;return Object(a.jsx)(ot,{type:on.VERSUS,playerId:r,connection:i,peerId:s})}function st(){return Object(a.jsx)(ot,{type:on.LOCAL,playerId:f.X,connection:null,peerId:""})}function lt(){return Object(a.jsx)(ot,{type:on.COMPUTER,playerId:f.X,connection:null,peerId:""})}function ut(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  gap: ",";\n  max-width: 100%;\n"]);return ut=function(){return n},n}var dt=b.b.div(ut(),cn.gap);function bt(){var n=[f.O,f.O,f.X,f.X,f.NONE,f.NONE,f.O,f.NONE,f.X];return Object(a.jsxs)(dt,{children:[Object(a.jsx)(Un,{tiles:n,winner:hn(n),processTurn:$n}),Object(a.jsx)("span",{children:"Best Moves for O"}),Object(a.jsx)("span",{children:mn(n,f.O).join(", ")})]})}function jt(){var n=Object(l.a)(["\n  display: grid;\n  padding: ",";\n  gap: ",";\n  max-width: 1000px;\n  margin: auto;\n  min-height: 100vh;\n  max-height: 100vh;\n  grid-template-rows: repeat(4, auto) 1fr auto;\n"]);return jt=function(){return n},n}var Ot=b.b.div(jt(),cn.gap,cn.gap);var pt=function(){return Object(a.jsx)(u.a,{basename:"/tic-tac-toe",children:Object(a.jsxs)(Ot,{children:[Object(a.jsx)(Q,{}),Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"/local",children:Object(a.jsx)(st,{})}),Object(a.jsx)(d.b,{path:"/versus",children:Object(a.jsx)(it,{})}),Object(a.jsx)(d.b,{path:"/computer",children:Object(a.jsx)(lt,{})}),Object(a.jsx)(d.b,{path:"/test",children:Object(a.jsx)(bt,{})}),Object(a.jsx)(d.b,{path:"/",children:Object(a.jsx)(K,{})})]}),Object(a.jsx)(rn,{})]})})},ft=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,47)).then((function(t){var e=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;e(n),r(n),a(n),c(n),o(n)}))};s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(pt,{})}),document.getElementById("root")),ft()}},[[46,1,2]]]);
//# sourceMappingURL=main.7113fe37.chunk.js.map